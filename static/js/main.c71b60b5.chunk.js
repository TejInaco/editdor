/*! For license information please see main.c71b60b5.chunk.js.LICENSE.txt */
(this.webpackJsonpeditdor=this.webpackJsonpeditdor||[]).push([[0],{195:function(e,t,n){},328:function(e,t,n){},366:function(e,t,n){e.exports=n.p+"static/media/editdor.6cac600d.png"},367:function(e,t,n){e.exports=n.p+"static/media/WoT.89768410.png"},371:function(e,t,n){e.exports=n(609)},376:function(e,t,n){},389:function(e,t){},506:function(e,t,n){"use strict";n.r(t),n.d(t,"checkPropUniqueness",(function(){return s})),n.d(t,"checkSecurity",(function(){return c})),n.d(t,"checkMultiLangConsistency",(function(){return p})),n.d(t,"checkLinksRelTypeCount",(function(){return d})),n.d(t,"checkUriSecurity",(function(){return u})),n.d(t,"checkTmOptionalPointer",(function(){return m}));var r=n(21),i=n(36),o=n(358),a=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i;function s(e){var t=[];try{o.parse(e,!1);var n=JSON.parse(e),r=[];return n.hasOwnProperty("properties")?(r=r.concat(Object.keys(n.properties)),t.push({ID:"td-properties_uniqueness",Status:"pass",Comment:""})):t.push({ID:"td-properties_uniqueness",Status:"not-impl",Comment:"no properties"}),n.hasOwnProperty("actions")?(r=r.concat(Object.keys(n.actions)),t.push({ID:"td-actions_uniqueness",Status:"pass",Comment:""})):t.push({ID:"td-actions_uniqueness",Status:"not-impl",Comment:"no actions"}),n.hasOwnProperty("events")?(r=r.concat(Object.keys(n.events)),t.push({ID:"td-events_uniqueness",Status:"pass",Comment:""})):t.push({ID:"td-events_uniqueness",Status:"not-impl",Comment:"no events"}),t}catch(f){var i=f.toString(),a=i.indexOf('"'),s=i.slice(a+1),c=s.indexOf('"'),l=s.slice(0,c),p=JSON.parse(e);if(p.hasOwnProperty("properties"))p.properties.hasOwnProperty(l)?(t.push({ID:"td-properties_uniqueness",Status:"fail",Comment:"duplicate property names"}),e=e.replace(l,"duplicateName")):t.push({ID:"td-properties_uniqueness",Status:"pass",Comment:""});else t.push({ID:"td-properties_uniqueness",Status:"not-impl",Comment:"no properties"});if(p.hasOwnProperty("actions"))p.actions.hasOwnProperty(l)?(t.push({ID:"td-actions_uniqueness",Status:"fail",Comment:"duplicate action names"}),e=e.replace(l,"duplicateName")):t.push({ID:"td-actions_uniqueness",Status:"pass",Comment:""});else t.push({ID:"td-actions_uniqueness",Status:"not-impl",Comment:"no actions"});if(p.hasOwnProperty("events"))p.events.hasOwnProperty(l)?(t.push({ID:"td-events_uniqueness",Status:"fail",Comment:"duplicate event names"}),e=e.replace(l,"duplicateName")):t.push({ID:"td-events_uniqueness",Status:"pass",Comment:""});else t.push({ID:"td-events_uniqueness",Status:"not-impl",Comment:"no events"});return t}}function c(e){var t=[];if(e.hasOwnProperty("securityDefinitions")){var n=e.securityDefinitions,r=Object.keys(n);if(!l(r,e.security))return t.push({ID:"td-security-scheme-name",Status:"fail",Comment:"used a non defined security scheme in root level"}),t;if(e.hasOwnProperty("properties"))for(var i=Object.keys(e.properties),o=0;o<i.length;o++)for(var a=i[o],s=e.properties[a].forms,c=0;c<s.length;c++){var p=s[c];if(p.hasOwnProperty("security"))if(!l(r,p.security))return t.push({ID:"td-security-scheme-name",Status:"fail",Comment:"used a non defined security scheme in a property form"}),t}if(e.hasOwnProperty("actions"))for(var f=Object.keys(e.actions),d=0;d<f.length;d++)for(var u=f[d],m=e.actions[u].forms,y=0;y<m.length;y++){var h=m[y];if(h.hasOwnProperty("security"))if(!l(r,h.security))return t.push({ID:"td-security-scheme-name",Status:"fail",Comment:"used a non defined security scheme in an action form"}),t}if(e.hasOwnProperty("events"))for(var g=Object.keys(e.events),v=0;v<g.length;v++)for(var b=g[v],x=e.events[b].forms,w=0;w<x.length;w++){var O=x[w];if(O.hasOwnProperty("security"))if(!l(r,O.security))return t.push({ID:"td-security-scheme-name",Status:"fail",Comment:"used a non defined security scheme in an event form"}),t}return t.push({ID:"td-security-scheme-name",Status:"pass"}),t}return t}function l(e,t){return"string"===typeof t&&(t=[t]),t.every((function(t){return e.indexOf(t)>-1}))}function p(e){var t=[],n=[],r=[];if(e.hasOwnProperty("titles")){var o=e.titles,s=Object.keys(o);n.push(s),r.push(Object(i.a)({},"root_title",f(e.title,o)))}if(e.hasOwnProperty("descriptions")){var c=e.descriptions,l=Object.keys(c);n.push(l),e.hasOwnProperty("description")&&r.push(Object(i.a)({},"root_description",f(e.description,c)))}if(e.hasOwnProperty("properties"))for(var p=Object.keys(e.properties),d=0;d<p.length;d++){var u=p[d],m=e.properties[u];if(m.hasOwnProperty("titles")){var y=Object.keys(m.titles);n.push(y),m.hasOwnProperty("title")&&r.push(Object(i.a)({},"property_"+u+"_title",f(m.title,m.titles)))}if(m.hasOwnProperty("descriptions")){var h=Object.keys(m.descriptions);n.push(h),m.hasOwnProperty("description")&&r.push(Object(i.a)({},"property_"+u+"_desc",f(m.description,m.descriptions)))}}if(e.hasOwnProperty("actions"))for(var g=Object.keys(e.actions),v=0;v<g.length;v++){var b=g[v],x=e.actions[b];if(x.hasOwnProperty("titles")){var w=Object.keys(x.titles);n.push(w),x.hasOwnProperty("title")&&r.push(Object(i.a)({},"action_"+b+"_title",f(x.title,x.titles)))}if(x.hasOwnProperty("descriptions")){var O=Object.keys(x.descriptions);n.push(O),x.hasOwnProperty("description")&&r.push(Object(i.a)({},"action_"+b+"_desc",f(x.description,x.descriptions)))}}if(e.hasOwnProperty("events"))for(var E=Object.keys(e.events),k=0;k<E.length;k++){var $=E[k],j=e.events[$];if(j.hasOwnProperty("titles")){var N=Object.keys(j.titles);n.push(N),j.hasOwnProperty("title")&&r.push(Object(i.a)({},"event_"+$+"_title",f(j.title,j.titles)))}if(j.hasOwnProperty("descriptions")){var S=Object.keys(j.descriptions);n.push(S),j.hasOwnProperty("description")&&r.push(Object(i.a)({},"event_"+$+"_desc",f(j.description,j.descriptions)))}}!function(e){if(0===e.length)return!0;for(var t=e.length;t--;)e[t]=JSON.stringify(e[t]);for(var n=e.length;n--;){if(0===n)return!0;if(e[n]!==e[n-1])return!1}}(n)?t.push({ID:"td-multi-languages-consistent",Status:"fail",Comment:"not all multilang objects have same language tags"}):t.push({ID:"td-multi-languages-consistent",Status:"pass"});for(var _=[],T=0;T<n.length;T++){var I=n[T];I=JSON.parse(I);for(var P=0;P<I.length;P++){var L=I[P];_.push(L)}}var D=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!a.test(n))return n}return"ok"}(_);if("ok"===D?t.push({ID:"td-multilanguage-language-tag",Status:"pass"}):t.push({ID:"td-multilanguage-language-tag",Status:"fail",Comment:D+" is not a BCP47 tag"}),0===r.length)return t.push({ID:"td-titles-descriptions",Status:"not-impl",Comment:"no multilang objects in the td"}),t;for(var C=0;C<r.length;C++){var A=r[C],F=Object.keys(A);if(!A[F])return t.push({ID:"td-titles-descriptions",Status:"fail",Comment:F+" is not on the multilang object at the same level"}),t}return t.push({ID:"td-titles-descriptions",Status:"pass"}),t}function f(e,t){var n=Object.keys(t);if(0===n.length)return!1;for(var r=0;r<n.length;r++){if(t[n[r]]===e)return!0}return!1}function d(e){var t=[];if(e.hasOwnProperty("links")){for(var n=0,r=0;r<e.links.length;r++){var i=e.links[r];i.hasOwnProperty("rel")&&"type"===i.rel&&n++}0===n?t.push({ID:"tm-rel-type-maximum",Status:"not-impl",Comment:"no rel:type in any link"}):1===n?t.push({ID:"tm-rel-type-maximum",Status:"pass",Comment:""}):t.push({ID:"tm-rel-type-maximum",Status:"fail",Comment:"too many rel:type in links array"})}else t.push({ID:"tm-rel-type-maximum",Status:"not-impl",Comment:"no links array in the td"});return t}function u(e){var t=[];if(e.hasOwnProperty("securityDefinitions")){var n=function(){for(var n=e.securityDefinitions,i=Object.keys(n),o=[],a=0;a<i.length;a++){var s=n[i[a]];"apikey"===s.scheme&&s.hasOwnProperty("in")&&"uri"===s.in&&s.hasOwnProperty("name")&&o.push(s.name)}if(0===o.length)return t.push({ID:"td-security-in-uri-variable",Status:"not-impl",Comment:"no use of name in a uri apikey scheme"}),t.push({ID:"td-security-uri-variables-distinct",Status:"not-impl",Comment:"no use of name in a uri apikey scheme"}),{v:t};var c="not-impl",l="not-impl",p=[];if(e.hasOwnProperty("uriVariables")&&(p=Object.keys(e.uriVariables)),e.hasOwnProperty("properties"))for(var f=Object.keys(e.properties),d=0;d<f.length;d++){for(var u=f[d],m=e.properties[u],y=m.forms,h=0;h<y.length;h++){var g=y[h];g.hasOwnProperty("href")&&function(){var e=g.href;o.some((function(t){return e.includes(t)}))&&"fail"!==c&&(c="pass")}()}if(m.hasOwnProperty("uriVariables")){var v=Object.keys(m.uriVariables);if(v.push.apply(v,Object(r.a)(p)),v.length>0)v.filter((function(e){return o.includes(e)})).length>0?l="fail":"fail"!==l&&(l="pass")}}if(e.hasOwnProperty("actions"))for(var b=Object.keys(e.actions),x=0;x<b.length;x++){for(var w=b[x],O=e.actions[w],E=O.forms,k=0;k<E.length;k++){var $=E[k];$.hasOwnProperty("href")&&function(){var e=$.href;o.some((function(t){return e.includes(t)}))&&"fail"!==c&&(c="pass")}()}if(O.hasOwnProperty("uriVariables")){var j=Object.keys(O.uriVariables);if(j.push.apply(j,Object(r.a)(p)),j.length>0)j.filter((function(e){return o.includes(e)})).length>0?l="fail":"fail"!==l&&(l="pass")}}if(e.hasOwnProperty("events"))for(var N=Object.keys(e.events),S=0;S<N.length;S++){for(var _=N[S],T=e.events[_],I=T.forms,P=0;P<I.length;P++){var L=I[P];L.hasOwnProperty("href")&&function(){var e=L.href;o.some((function(t){return e.includes(t)}))&&"fail"!==c&&(c="pass")}()}if(T.hasOwnProperty("uriVariables")){var D=Object.keys(T.uriVariables);if(D.push.apply(D,Object(r.a)(p)),D.length>0)D.filter((function(e){return o.includes(e)})).length>0?l="fail":"fail"!==l&&(l="pass")}}return t.push({ID:"td-security-in-uri-variable",Status:c}),t.push({ID:"td-security-in-uri-variable-distinct",Status:l}),{v:t}}();if("object"===typeof n)return n.v}return t}function m(e){var t=[];return e.hasOwnProperty("tm:optional")?e["tm:optional"].forEach((function(n){n=(n=n.substring(1)).replace("/",".");var r,i,o=(r=e,i="noTarget",n.split(/[\.\[\]\'\"]/).filter((function(e){return e})).reduce((function(e,t){return e?e[t]:i}),r));"noTarget"===o||void 0===o?t.push({ID:"tm-tmOptional-resolver",Status:"fail",Comment:"tm:optional does not resolve to an affordance"}):t.push({ID:"tm-tmOptional-resolver",Status:"pass",Comment:""})})):t.push({ID:"tm-tmOptional-resolver",Status:"not-impl",Comment:"no use of tm:optional"}),t}},508:function(e){e.exports=JSON.parse('{"title":"Thing Description","version":"1.1-05-September-2022","description":"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values","$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"},"minItems":1},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"bcp47_string":{"type":"string","pattern":"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},"type_declaration":{"oneOf":[{"type":"string","not":{"const":"tm:ThingModel"}},{"type":"array","items":{"type":"string","not":{"const":"tm:ThingModel"}}}]},"dataSchema-type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"type":["integer","number"],"exclusiveMinimum":0},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"array","items":{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},"additionalProperties":true},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},{"type":"array","items":{"type":"string","enum":["invokeaction","queryaction","cancelaction"]}}]}},"additionalProperties":true},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["subscribeevent","unsubscribeevent"]},{"type":"array","items":{"type":"string","enum":["subscribeevent","unsubscribeevent"]}}]}},"additionalProperties":true},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"array","items":{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},"additionalProperties":true,"required":["op"]},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"type":"boolean"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["forms"],"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"type":"boolean"},"idempotent":{"type":"boolean"},"synchronous":{"type":"boolean"}},"required":["forms"],"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"}},"required":["forms"],"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"},"hreflang":{"anyOf":[{"$ref":"#/definitions/bcp47_string"},{"type":"array","items":{"$ref":"#/definitions/bcp47_string"}}]}},"required":["href"],"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon or tm:extends","properties":{"rel":{"enum":["icon","tm:extends"]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"required":["scheme"],"additionalProperties":true},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["nosec"]}},"required":["scheme"],"additionalProperties":true},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["auto"]}},"not":{"required":["name"]},"required":["scheme"],"additionalProperties":true},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","oneOf"],"additionalProperties":true},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","allOf"],"additionalProperties":true}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["basic"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["digest"]},"qop":{"type":"string","enum":["auth","auth-int"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["apikey"]},"in":{"type":"string","enum":["header","query","body","cookie","uri","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["bearer"]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["psk"]},"identity":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["oauth2"]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","enum":["code","client","device"]}]}},"required":["scheme"],"additionalProperties":true},"securityScheme":{"oneOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"@type":{"$ref":"#/definitions/type_declaration"},"@context":{"$ref":"#/definitions/thing-context"}},"required":["title","security","securityDefinitions","@context"],"additionalProperties":true}')},509:function(e){e.exports=JSON.parse('{"title":"Thing Description","version":"1.1-10-June-2022","description":"JSON Schema for validating TD instances against the TD information model. For a TD to validate this schema it must contain all the default terms defined in Section 5.4","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"type_declaration":{"oneOf":[{"type":"string","not":{"const":"tm:ThingModel"}},{"type":"array","items":{"type":"string","not":{"const":"tm:ThingModel"}}}]},"dataSchema-type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["readOnly","writeOnly"]},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}},"required":["contentType","success"]}},"multipleOfDefinition":{"type":["integer","number"],"exclusiveMinimum":0},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href","contentType","op"],"additionalProperties":true},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"array","items":{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},"additionalProperties":true},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},{"type":"array","items":{"type":"string","enum":["invokeaction","queryaction","cancelaction"]}}]}},"additionalProperties":true},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["subscribeevent","unsubscribeevent"]},{"type":"array","items":{"type":"string","enum":["subscribeevent","unsubscribeevent"]}}]}},"additionalProperties":true},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"array","items":{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},"additionalProperties":true},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"type":"boolean"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["forms","readOnly","writeOnly","observable"],"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"type":"boolean"},"idempotent":{"type":"boolean"},"synchronous":{"type":"boolean"}},"required":["forms","safe","idempotent"],"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"}},"required":["forms"],"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"}},"required":["href"],"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon or tm:extends","properties":{"rel":{"enum":["icon","tm:extends"]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"required":["scheme"]},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["nosec"]}},"required":["scheme"]},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["auto"]}},"required":["scheme"]},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","oneOf"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","allOf"]}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["basic"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme","in"]},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["digest"]},"qop":{"type":"string","enum":["auth","auth-int"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme","in","qop"]},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["apikey"]},"in":{"type":"string","enum":["header","query","body","uri","auto","cookie"]},"name":{"type":"string"}},"required":["scheme","in"]},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["bearer"]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme","alg","format","in"]},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["psk"]},"identity":{"type":"string"}},"required":["scheme"]},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["oauth2"]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","enum":["code","client","device"]}]}},"required":["scheme"]},"securityScheme":{"oneOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"@type":{"$ref":"#/definitions/type_declaration"},"@context":{"$ref":"#/definitions/thing-context"}},"required":["title","security","securityDefinitions","@context"],"additionalProperties":true}')},510:function(e){e.exports=JSON.parse('{"title":"Thing Model","version":"1.1-05-September-2022","description":"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.","$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"bcp47_string":{"type":"string","pattern":"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},"type_declaration":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"dataSchema-type":{"type":"string","anyOf":[{"enum":["boolean","integer","number","string","object","array","null"]},{"$ref":"#/definitions/placeholder-pattern"}]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"anyOf":[{"type":"array","minItems":1,"uniqueItems":true},{"$ref":"#/definitions/placeholder-pattern"}]},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minimum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"maximum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"anyOf":[{"type":["integer","number"],"exclusiveMinimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"$ref":"#/definitions/placeholder-pattern"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"$ref":"#/definitions/placeholder-pattern"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"$ref":"#/definitions/placeholder-pattern"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"$ref":"#/definitions/placeholder-pattern"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"observable":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"writeOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"anyOf":[{"type":"array","minItems":1,"uniqueItems":true},{"$ref":"#/definitions/placeholder-pattern"}]},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minimum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"maximum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"idempotent":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"synchronous":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"},"hreflang":{"anyOf":[{"$ref":"#/definitions/bcp47_string"},{"type":"array","items":{"$ref":"#/definitions/bcp47_string"}}]},"instanceName":{"type":"string"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon","properties":{"rel":{"anyOf":[{"enum":["icon"]},{"$ref":"#/definitions/placeholder-pattern"}]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["nosec"]},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["auto"]},{"$ref":"#/definitions/placeholder-pattern"}]}},"not":{"required":["name"]},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"$ref":"#/definitions/placeholder-pattern"}]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["basic"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["digest"]},{"$ref":"#/definitions/placeholder-pattern"}]},"qop":{"type":"string","anyOf":[{"enum":["auth","auth-int"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["apikey"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","uri","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["bearer"]},{"$ref":"#/definitions/placeholder-pattern"}]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["psk"]},{"$ref":"#/definitions/placeholder-pattern"}]},"identity":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["oauth2"]},{"$ref":"#/definitions/placeholder-pattern"}]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","anyOf":[{"enum":["code","client","device"]},{"$ref":"#/definitions/placeholder-pattern"}]}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"securityScheme":{"anyOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]},"tm_type_declaration":{"oneOf":[{"type":"string","const":"tm:ThingModel"},{"type":"array","items":{"type":"string"},"contains":{"const":"tm:ThingModel"}}]},"placeholder-pattern":{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"},"tm_optional":{"type":"array","items":{"$comment":"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times","allOf":[{"type":"string","pattern":"^((/properties/)|(/actions/)|(/events/))(([^/]))","$comment":"regex tests available at https://regex101.com/r/UgOzrJ/1"},{"not":{"type":"string","pattern":"(/)(.*\\\\1){2}","$comment":"regex tests available at https://regex101.com/r/Ytzd72/1"}}]}},"tm_ref":{"type":"string","format":"uri-reference"}},"type":"object","properties":{"id":{"type":"string"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"anyOf":[{"type":"object","properties":{"model":{"type":"string"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}},"not":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]}},{"$ref":"#/definitions/placeholder-pattern"}]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string"},"modified":{"type":"string"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"@type":{"$ref":"#/definitions/tm_type_declaration"},"@context":{"$ref":"#/definitions/thing-context"},"tm:optional":{"$ref":"#/definitions/tm_optional"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}},"required":["@context","@type"]}')},605:function(e){e.exports=JSON.parse('{"https://example.com":"https://example.com/json_schema.json","https://www.w3.org/2019/wot/td/v1":"https://raw.githubusercontent.com/thingweb/thingweb-playground/%40thing-description-playground/web%401.0.0/packages/playground-core/td-schema.json","http://www.w3.org/ns/td":"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json"}')},609:function(e,t,n){"use strict";n.r(t);var r=n(7),i=n.n(r),o=n(135),a=n.n(o),s=(n(195),n(376),n(328),n(108)),c=n(18),l=i.a.createContext({offlineTD:"",theme:"dark",isModified:!1,isThingModel:void 0,name:"",fileHandle:"",showConvertBtn:!1,linkedTd:{},validationMessage:"",updateOfflineTD:function(e){},updateIsModified:function(e){},updateIsThingModel:function(e){},setFileHandle:function(e){},removeForm:function(e){},addForm:function(e){},removeLink:function(e){},addActionForm:function(e){},addEventForm:function(e){},removeOneOfAKindReducer:function(e,t){},updateShowConvertBtn:function(e){},addLinkedTd:function(e){},updateLinkedTd:function(e){},updateValidationMessage:function(e){}}),p=n(6),f=n(93);function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new j(i||[]);return r(a,"_invoke",{value:O(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var f={};function u(){}function m(){}function y(){}var h={};c(h,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(N([])));v&&v!==t&&n.call(v,o)&&(h=v);var b=y.prototype=u.prototype=Object.create(h);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var c=p(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function $(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=y,r(b,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=N,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),$(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;$(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var u=function(e,t,n){for(var r=Object(f.a)({},e),i=0,o=Object.entries(t);i<o.length;i++){var a=Object(c.a)(o[i],2),s=a[0],l=a[1];n.includes(s)||(r[s]=l)}return r},m=function(e){if(void 0===e&&!e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];if(Array.isArray(r.op))for(var i=0;i<r.op.length;i++){var o=Object(f.a)({},r);o.op=r.op[i],t.push(o)}else t.push(r)}return t},y=function(e){return!!e.forms},h=function(e){return!!e.links},g=function(e,t){if("string"===typeof t.op){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){var n=!0;for(var r in e)"op"!==r&&t[r]!==e[r]&&(n=!1);if(n)return!0}},v=function(){var e=Object(s.a)(d().mark((function e(t,n){var r,i,o,a,s,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("file"!==t.linkedTd[n].kind){e.next=31;break}if(e.prev=1,!t.isModified||!t.fileHandle){e.next=10;break}return e.next=5,t.fileHandle.createWritable();case 5:return r=e.sent,e.next=8,r.write(t.offlineTD);case 8:return e.next=10,r.close();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0.message);case 15:return i=t.linkedTd[n],e.next=18,i.getFile();case 18:return o=e.sent,e.t1=JSON,e.next=22,o.text();case 22:e.t2=e.sent,a=e.t1.parse.call(e.t1,e.t2),s=JSON.stringify(a,null,2),t.setFileHandle(i),t.updateOfflineTD(s),t.updateIsModified(!1),document.getElementById("linkedTd").value=n,e.next=52;break;case 31:if(!Object.keys(t.linkedTd[n]).length){e.next=52;break}if(e.prev=32,!t.isModified||!t.fileHandle){e.next=41;break}return e.next=36,t.fileHandle.createWritable();case 36:return r=e.sent,e.next=39,r.write(t.offlineTD);case 39:return e.next=41,r.close();case 41:e.next=46;break;case 43:e.prev=43,e.t3=e.catch(32),console.error(e.t3.message);case 46:t.setFileHandle(void 0),c=t.linkedTd[n],l=JSON.stringify(c,null,2),t.updateOfflineTD(l),t.updateIsModified(!1),document.getElementById("linkedTd").value=n;case 52:case"end":return e.stop()}}),e,null,[[1,12],[32,43]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){return"showOpenFilePicker"in window?window.showOpenFilePicker({types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]}).then((function(e){return e[0]})):window.chooseFileSystemEntries()},x=function(){var e=Object(s.a)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=document.getElementById("fileInput");n.onchange=function(r){var i=n.files[0];return i?e(i):t(new Error("AbortError"))},n.click()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("loadend",(function(e){var n=e.srcElement.result;return t(n)})),n.readAsText(e)}))},O=function(e,t,n){var r,i,o={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},a=function(e){return"ltr"===e?"\u2066":"\u2067"};if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return a(e[t].toString().getDirection())+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){var s=o[t.includes("-")?t.split("-")[0]:t.toLowerCase()];return s?a(s)+e[t]:a("ltr")+e[t]}if(Array.isArray(n)||(n=[n]),n.forEach((function(e){"object"===typeof e&&(e["@direction"]&&(r=e["@direction"]),e["@language"]&&(i=e["@language"]))})),"title"===t||"description"===t){if(r)return a(r)+e[t];if(i){var c=o[i.includes("-")?i.split("-")[0]:i.toLowerCase()];return c?a(c)+e[t]:a("ltr")+e[t]}}return a(e[t].toString().getDirection())+e[t]},E=function(e){var t,n,r,o,a,s,c,l,p=null!==(t=e.title)&&void 0!==t?t:"Default Title",f=null!==(n=e.description)&&void 0!==n?n:"Default description, please override.",d=null!==(r=e.children)&&void 0!==r?r:i.a.createElement(i.a.Fragment,null),u=null!==(o=e.cancelText)&&void 0!==o?o:"Cancel",m=null!==(a=e.onCancel)&&void 0!==a?a:function(){},y=null!==(s=e.submitText)&&void 0!==s?s:"Submit",h=null!==(c=e.onSubmit)&&void 0!==c?c:function(){},g=null===(l=e.hasSubmit)||void 0===l||l,v={};return window.onkeydown=function(e){v[e.key]=!0,v.Control&&v.Enter&&document.getElementById("submitButton").click()},window.onkeyup=function(e){v[e.key]=!1},i.a.createElement("div",{className:"flex bg-gray-400 bg-opacity-50 w-full h-full absolute top-0 left-0 justify-center items-center z-10 text-white"},i.a.createElement("div",{className:"bg-gray-500 w-1/3 flex flex-col justify-start rounded-xl shadow-xl p-4 max-h-screen"},i.a.createElement("div",{className:"flex flex-row justify-start items-center  "},i.a.createElement("h1",{className:"text-xl font-bold flex-grow pl-2"},p)),i.a.createElement("h2",{className:"text-gray-400 py-2 pl-2"},f),i.a.createElement("div",{className:"overflow-auto p-2"},d),i.a.createElement("div",{className:"flex justify-end pt-4 p-2"},i.a.createElement("button",{className:"text-white bg-gray-500 p-2 mr-1 rounded-md",onClick:function(){m()}},u),g&&i.a.createElement("button",{id:"submitButton",className:"flex text-white bg-blue-500 p-2 rounded-md",onClick:function(){return h()}},y))))},k=n(377),$=n(409),j=(n(442),n(491)),N=(n(505),n(506)),S=n(508),_=n(509),T=(n(510),n(358));function I(e,t,n){var r=n.checkDefaults,i=void 0===r||r,o=n.checkJsonLd,a=void 0===o||o;return new Promise((function(n,r){"string"!==typeof e&&r("Thing Description input should be a String"),void 0===i&&(i=!0),void 0===a&&(a=!0),"function"!==typeof t&&r("Expected logFunc to be a function");var o,s={json:null,schema:null,defaults:null,jsonld:null,additional:null},c={enumConst:null,propItems:null,security:null,propUniqueness:null,multiLangConsistency:null,linksRelTypeCount:null,readWriteOnly:null,uriVariableSecurity:null},l={enumConst:"Checking whether a data schema has enum and const at the same time.",propItems:"Checking whether a data schema has an object but not properties or array but no items.",security:"Check if used Security definitions are properly defined previously.",propUniqueness:"Checking whether in one interaction pattern there are duplicate names, e.g. two properties called temp.",multiLangConsistency:"Checks whether all titles and descriptions have the same language fields.",linksRelTypeCount:"Checks whether rel:type is used more than once in the links array",readWriteOnly:"Warns if a property has readOnly or writeOnly set to true conflicting with another property.",uriVariableSecurity:"Checks if the name of an APIKey security scheme with in:uri show up in href and does not conflict with normal uriVariables"},p={json:null,schema:null};try{o=JSON.parse(e),s.json="passed"}catch(y){s.json="failed",t("X JSON validation failed:"),p.json=y.message,t(y),n({report:s,details:c,detailComments:l,validationErrors:p})}var f=new $({strict:!1});if((f=j(f)).addSchema(S,"td"),f.validate("td",o)){if(s.schema="passed",i)f.addSchema(_,"fulltd"),f.validate("fulltd",o)?s.defaults="passed":(s.defaults="warning",t("Optional validation failed:"),t("> "+f.errorsText(m(f.errors))),n({report:s,details:c,detailComments:l,validationErrors:p}));!function(e){if(c.enumConst="passed",e.hasOwnProperty("properties"))for(var n=Object.keys(e.properties),r=0;r<n.length;r++){var i=n[r],o=e.properties[i];o.hasOwnProperty("enum")&&o.hasOwnProperty("const")&&(c.enumConst="warning",t("! Warning: In property "+i+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}if(e.hasOwnProperty("actions"))for(var a=Object.keys(e.actions),s=0;s<a.length;s++){var l=a[s],p=e.actions[l];if(p.hasOwnProperty("input")){var f=p.input;f.hasOwnProperty("enum")&&f.hasOwnProperty("const")&&(c.enumConst="warning",t("! Warning: In the input of action "+l+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}if(p.hasOwnProperty("output")){var d=p.output;d.hasOwnProperty("enum")&&d.hasOwnProperty("const")&&(c.enumConst="warning",t("! Warning: In the output of action "+l+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}}if(e.hasOwnProperty("events"))for(var u=Object.keys(e.events),m=0;m<u.length;m++){var y=u[m],h=e.events[y];h.hasOwnProperty("enum")&&h.hasOwnProperty("const")&&(c.enumConst="warning",t("! Warning: In event "+y+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}}(o),function(e){if(c.propItems="passed",e.hasOwnProperty("properties"))for(var n=Object.keys(e.properties),r=0;r<n.length;r++){var i=n[r],o=e.properties[i];o.hasOwnProperty("type")&&("object"!==o.type||o.hasOwnProperty("properties")||(c.propItems="warning",t("! Warning: In property "+i+", the type is object but its properties are not specified")),"array"!==o.type||o.hasOwnProperty("items")||(c.propItems="warning",t("! Warning: In property "+i+", the type is array but its items are not specified")))}if(e.hasOwnProperty("actions"))for(var a=Object.keys(e.actions),s=0;s<a.length;s++){var l=a[s],p=e.actions[l];if(p.hasOwnProperty("input")){var f=p.input;f.hasOwnProperty("type")&&("object"!==f.type||f.hasOwnProperty("properties")||(c.propItems="warning",t("! Warning: In the input of action "+l+", the type is object but its properties are not specified")),"array"!==f.type||f.hasOwnProperty("items")||(c.propItems="warning",t("! Warning: In the output of action "+l+", the type is array but its items are not specified")))}if(p.hasOwnProperty("output")){var d=p.output;d.hasOwnProperty("type")&&("object"!==d.type||d.hasOwnProperty("properties")||(c.propItems="warning",t("! Warning: In the output of action "+l+", the type is object but its properties are not specified")),"array"!==d.type||d.hasOwnProperty("items")||(c.propItems="warning",t("! Warning: In the output of action "+l+", the type is array but its items are not specified")))}}if(e.hasOwnProperty("events"))for(var u=Object.keys(e.events),m=0;m<u.length;m++){var y=u[m],h=e.events[y];h.hasOwnProperty("type")&&("object"!==h.type||h.hasOwnProperty("properties")||(c.propItems="warning",t("! Warning: In event "+y+", the type is object but its properties are not specified")),"array"!==h.type||h.hasOwnProperty("items")||(c.propItems="warning",t("! Warning: In event "+y+", the type is array but its items are not specified")))}}(o),function(e){if(c.readWriteOnly="passed",e.hasOwnProperty("properties"))for(var n=Object.keys(e.properties),r=0;r<n.length;r++){var i=n[r],o=e.properties[i];if(o.hasOwnProperty("readOnly")&&!0===o.readOnly&&(o.hasOwnProperty("writeOnly")&&!0===o.writeOnly&&(c.readWriteOnly="warning",t("! Warning: In property "+i+", both readOnly and writeOnly are set to true!")),o.hasOwnProperty("forms")))for(var a in o.forms)if(o.forms.hasOwnProperty(a)){var s=o.forms[a];s.hasOwnProperty("op")?("string"===typeof s.op&&"writeproperty"===s.op||"object"===typeof s.op&&s.op.some((function(e){return"writeproperty"===e})))&&(c.readWriteOnly="warning",t("! Warning: In property "+i+" in forms["+a+'], readOnly is set but the op property contains "writeproperty"')):(c.readWriteOnly="warning",t("! Warning: In property "+i+" in forms["+a+'], readOnly is set but a form op property defaults to ["writeproperty", "readproperty"]'))}if(o.hasOwnProperty("writeOnly")&&!0===o.writeOnly){if(o.hasOwnProperty("forms"))for(var l in o.forms)if(o.forms.hasOwnProperty(l)){var p=o.forms[l];p.hasOwnProperty("op")?"string"===typeof p.op&&"readproperty"===p.op||"object"===typeof p.op&&p.op.some((function(e){return"readproperty"===e}))?(c.readWriteOnly="warning",t("! Warning: In property "+i+" in forms["+l+'], writeOnly is set but the op property contains "readproperty"')):("string"===typeof p.op&&"observeproperty"===p.op||"object"===typeof p.op&&p.op.some((function(e){return"observeproperty"===e})))&&(c.readWriteOnly="warning",t("! Warning: In property "+i+" in forms["+l+'], writeOnly is set but the op property contains "observeproperty"')):(c.readWriteOnly="warning",t("! Warning: In property "+i+" in forms["+l+'], writeOnly is set but a form op property defaults to ["writeproperty", "readproperty"]'))}o.hasOwnProperty("observable")&&!0===o.observable&&(c.readWriteOnly="warning",t("! Warning: In property "+i+", both writeOnly and observable are set to true!"))}}}(o),c.security=u(N.checkSecurity(o)),c.propUniqueness=u(N.checkPropUniqueness(e)),"passed"===c.propUniqueness?c.propUniqueness=d(e,o):d(e,o),c.multiLangConsistency=u(N.checkMultiLangConsistency(o)),c.linksRelTypeCount=u(N.checkLinksRelTypeCount(o)),c.uriVariableSecurity=u(N.checkUriSecurity(o)),s.additional="passed",Object.keys(c).forEach((function(e){"warning"===c[e]&&"passed"===s.additional?s.additional="warning":"failed"===c[e]&&"failed"!==s.additional&&(s.additional="failed")}))}else s.schema="failed",t("X JSON Schema validation failed:"),p.schema=f.errorsText(m(f.errors)),t("> "+p.schema),n({report:s,details:c,detailComments:l,validationErrors:p});function d(e,n){var r="passed";try{T.parse(e,!1)}catch(l){var i=l.toString(),o=i.indexOf('"'),a=i.slice(o+1),s=a.indexOf('"'),c=a.slice(0,s);n.securityDefinitions.hasOwnProperty(c)&&(r="failed",t("KO Error: The securityDefinitions contain a duplicate"))}return r}function u(e){var n="passed";return e.forEach((function(e){"fail"===e.Status&&(n="failed",t("KO Error: Assertion: "+e.ID),t(e.Comment))})),n}function m(e){var t=[];return e.forEach((function(e){t.some((function(t){return t.dataPath===e.dataPath&&t.message===e.message}))||t.push(e)})),t}a?k.toRDF(o,{format:"application/nquads"}).then((function(e){s.jsonld="passed",n({report:s,details:c,detailComments:l})}),(function(e){s.jsonld="failed",t("X JSON-LD validation failed:"),t("Hint: Make sure you have internet connection available."),t("> "+e),n({report:s,details:c,detailComments:l})})):n({report:s,details:c,detailComments:l})}))}var P="$ref",L="dataSchema";!function(e){var t=new Map,n=new Map;D(t,e,"#/"),t.forEach((function(e,t){if(e.size>0){var r=(t.match(/\//gi)||[]).length,i=n.get(r);i?(i.set(t.replace(/^r/g,""),e),n.set(r,i)):((i=new Map).set(t.replace(/^r/g,""),e),n.set(r,i))}}))}(S);function D(e,t,n){var r=new Set;if(t.$ref){if("r"===n[0]&&t.$ref.includes(L))return;return t.$ref.includes(L)&&(n="r"+n),void D(A(S,t.$ref),n)}if("object"===t.type){var i=t.properties;for(var o in i)if(i.hasOwnProperty(o)){if(o===P){if("r"===n[0]&&i[o].includes(L))continue;return i[o].includes(L)&&(n="r"+n),void D(A(S,i[o]),n)}D(i[o],"".concat(n).concat(o,"/")),r.add(o)}var a=t.additional_properties;for(var s in a)if(a.hasOwnProperty(s)&&s===P){if("r"===n[0]&&a[s].includes(L))continue;return a[s].includes(L)&&(n="r"+n),void D(A(S,a[s]),"".concat(n,"*/"))}C(e,n,r)}if("array"===t.type){var c=t.items;for(var l in c)if(c.hasOwnProperty(l)&&l===P){if("r"===n[0]&&c[l].includes(L))continue;return c[l].includes(L)&&(n="r"+n),void D(A(S,c[l]),n)}C(e,n,r)}for(var p in t)t.hasOwnProperty(p)&&["allOf","oneOf","anyOf"].includes(p)&&Array.isArray(t[p])&&t[p].forEach((function(e){D(e,n)}))}function C(e,t,n){var r=e.get(t);if(r){var i=new Set(r);n.forEach((function(e){i.add(e)})),e.set(t,i)}else e.set(t,n)}function A(e,t){var n=t.split("/");if("#"===n[0]){for(var r=e,i=1;i<n.length;i++)r=r[n[i]];return r}console.log("Parsing not implemented for between files")}var F=Object(r.forwardRef)((function(e,t){var n,o,s,f=Object(r.useContext)(l),d=i.a.useState((function(){return!1})),u=Object(c.a)(d,2),m=u[0],h=u[1],v=null!==(n=e.type)&&void 0!==n?n:"",b=v&&v[0].toUpperCase()+v.slice(1),x=null!==(o=e.interaction)&&void 0!==o?o:{},w=null!==(s=e.interactionName)&&void 0!==s?s:"";Object(r.useEffect)((function(){}),[m,f]),Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return O()},close:function(){return k()}}}));var O=function(){h(!0)},k=function(){h(!1)},$=function(e){return!!y(x)&&function(e,t){var n,r=Object(p.a)(t.forms);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("string"===typeof e.op)return g(e,i);var o,a=Object(p.a)(e.op);try{for(a.s();!(o=a.n()).done;){var s=o.value;if("string"===typeof i.op){if(i.op===s)return!0}else if(i.op.includes(s)){var c=!0;for(var l in e)"op"!==l&&i[l]!==e[l]&&(c=!1);if(c)return!0}}}catch(f){a.e(f)}finally{a.f()}}}catch(f){r.e(f)}finally{r.f()}return!1}(e,x)},j=B(v),N=i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:"text-sm text-gray-400 font-medium pl-3"},"Operations:"),i.a.createElement("div",{className:"p-1"},j),i.a.createElement("div",{className:"p-1 pt-2"},i.a.createElement("label",{htmlFor:"form-href",className:"text-sm text-gray-400 font-medium pl-2"},"Href:"),i.a.createElement("input",{type:"text",name:"form-href",id:"form-href",className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"http://example.com/href",onChange:function(){q()}}),i.a.createElement("span",{id:"form-href-info",className:"text-xs text-red-400 pl-2"})));return m?a.a.createPortal(i.a.createElement(E,{onCancel:k,onSubmit:function(){var e={};e.op=U(v).map((function(e){return document.getElementById("form-"+e).checked?document.getElementById("form-"+e).value:void 0})).filter((function(e){return void 0!==e}));var t=document.getElementById("form-href").value;e.href=""!==t?t.trim():"/",0===e.op.length?M("You have to select at least one operation ..."):$(e)?M("A Form for one of the selected operations already exists ..."):(!function(e){switch(v){case"property":f.addForm({propName:w,form:e});break;case"action":f.addActionForm({actionName:w,form:e});break;case"event":f.addEventForm({eventName:w,form:e});break;case"thing":var t={};try{t=JSON.parse(f.offlineTD)}catch(n){}y(t)||(t.forms=[]),t.forms.push(e),I(JSON.stringify(t,null,2),console.log,{}).then((function(e){f.updateValidationMessage(e),f.updateOfflineTD(JSON.stringify(t,null,2))}),(function(e){console.log("Error"),console.log(e)}))}}(e),k())},submitText:"Add",children:N,title:"Add ".concat(b," Form"),description:"Tell us how this ".concat(b," can be interfaced by selecting operations below and providing an href.")}),document.getElementById("modal-root")):null})),M=function(e){document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},q=function(){document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},U=function(e){switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},B=function(e){return i.a.createElement("div",{className:"bg-gray-600 p-1 rounded-md"},U(e).map((function(e){return R(e)})))},R=function(e){var t="form-".concat(e);return i.a.createElement("div",{key:t,className:"form-checkbox pl-2"},"invokeaction"!==e?i.a.createElement("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):i.a.createElement("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:"invokeaction"===e,checked:"invokeaction"===e}),i.a.createElement("label",{className:"form-checkbox-label pl-2",htmlFor:t},e))};function z(){z=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new $(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var f={};function d(){}function u(){}function m(){}var y={};c(y,o,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(j([])));g&&g!==t&&n.call(g,o)&&(y=g);var v=m.prototype=d.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,s){var c=p(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return u.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:u,configurable:!0}),u.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var J="",W={},G={},V=Object(r.forwardRef)((function(e,t){var n,o=Object(r.useContext)(l),f=i.a.useState((function(){return!1})),d=Object(c.a)(f,2),u=d[0],m=d[1],y=i.a.useState((function(){return"url"})),g=Object(c.a)(y,2),v=g[0],O=g[1],k=i.a.useState((function(){return{}})),$=Object(c.a)(k,2),j=$[0],N=$[1],S=null!==(n=e.interaction)&&void 0!==n?n:{};try{G=W,W=JSON.parse(o.offlineTD),J=""}catch(q){J=q.message,console.error(J),W=G}Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return _()},close:function(){return T()}}}));var _=function(){m(!0)},T=function(){m(!1)},P=function(e){return!!h(S)&&function(e,t){var n,r=Object(p.a)(t.links);try{for(r.s();!(n=r.n()).done;)if(n.value.href===e.href)return!0}catch(i){r.e(i)}finally{r.f()}return!1}(e,S)},L=Object(r.useCallback)((function(){return"chooseFileSystemEntries"in window||"showOpenFilePicker"in window}),[]),D=function(e){O(e),j&&"url"===e&&N({})},C=Object(r.useCallback)((function(e){return e.text?e.text():w(e)}),[]),A=Object(r.useCallback)(function(){var e=Object(s.a)(z().mark((function e(t){var n,r,i,o,a,s;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L()){e.next=17;break}return e.next=3,x();case 3:if(!(n=e.sent)){e.next=16;break}return document.getElementById("link-href").value="./"+n.name,e.next=8,C(n);case 8:return r=e.sent,e.t0=N,e.t1=JSON,e.next=13,r;case 13:e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),(0,e.t0)(e.t3);case 16:return e.abrupt("return");case 17:return e.prev=17,e.next=20,b();case 20:return i=e.sent,e.next=23,i.getFile();case 23:o=e.sent,a="./"+o.name,N(i),document.getElementById("link-href").value=a,e.next=34;break;case 29:e.prev=29,e.t4=e.catch(17),s="We ran into an error trying to open your TD.",console.error(s,e.t4),alert(s);case 34:case"end":return e.stop()}}),e,null,[[17,29]])})));return function(t){return e.apply(this,arguments)}}(),[L,C]),F=function(){var e=0;return["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"].map((function(t){return e++,i.a.createElement("option",{value:t,key:e})}))},M=i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:"text-sm text-gray-400 font-medium pl-3"},"Thing Description:"),i.a.createElement("div",{className:"p-1"},W.title),i.a.createElement("div",{className:"p-1 pt-2"},i.a.createElement("label",{htmlFor:"rel",className:"text-sm text-gray-400 font-medium pl-2"},"Relation:(select one of the proposed relations or type your custom relation)"),i.a.createElement("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"relation name"}),i.a.createElement("datalist",{id:"relationType"},i.a.createElement(F,null)),i.a.createElement("span",{id:"link-rel-info",className:"text-xs text-red-400 pl-2"})),i.a.createElement("div",{className:"p-1 pt-2"},i.a.createElement("label",{htmlFor:"link-href",className:"text-sm text-gray-400 font-medium pl-2 pr-2"},"Target ressource:"),i.a.createElement("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",disabled:"upload"===v,onClick:function(){D("upload")}},"From local machine"),i.a.createElement("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",style:{marginLeft:"2%"},disabled:"url"===v,onClick:function(){D("url")}},"Ressource url"),i.a.createElement("div",{className:"p-1 pt-4"},i.a.createElement("input",{type:"text",name:"link-href",id:"link-href",className:"border-gray-600 bg-gray-600 p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"The target ressource",onChange:function(){K()},disabled:"url"!==v}),"upload"===v&&i.a.createElement("button",{className:"text-white bg-blue-500 cursor-pointer rounded-md p-2 h-9",onClick:A,disabled:"upload"!==v},"Open TD")),i.a.createElement("span",{id:"link-href-info",className:"text-xs text-red-400 pl-2"}),i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"type",className:"text-sm text-gray-400 font-medium pl-2"},"Type:(select one of the proposed types or tape your custom type)"),i.a.createElement("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"media type"}),i.a.createElement("datalist",{id:"mediaType"},i.a.createElement("option",{value:"application/td+json"}),i.a.createElement("option",{value:"image/jpeg"}),i.a.createElement("option",{value:"text/csv"}),i.a.createElement("option",{value:"video/mp4"})))));return u?a.a.createPortal(i.a.createElement(E,{onCancel:T,onSubmit:function(){var e={},t={},n=document.getElementById("rel").value,r=document.getElementById("link-href").value,i=document.getElementById("type").value;e.href=""!==r?r.trim():"/";var a=!0;try{var s=new URL(r)}catch(f){a=!1}if("url"!==v||!a||"http:"!==s.protocol&&"https:"!==s.protocol)t[r]=j;else try{var c=new XMLHttpRequest;if(c.open("GET",r,!1),c.send(),c.getResponseHeader("content-type").includes("application/td+json")){var l=c.response,p=JSON.parse(l);t[r]=p}}catch(d){console.error("We ran into an error trying to fetch your TD.",d),t[r]=j}""!==n&&(e.rel=n.trim()),""!==i&&(e.type=i.trim()),""===r?H("The href field is mandatory ..."):P(e)?H("A Link with the target Thing Description already exists ..."):(!function(e){var t={};try{t=JSON.parse(o.offlineTD)}catch(f){}h(t)||(t.links=[]),t.links.push(e),I(JSON.stringify(t,null,2),console.log,{}).then((function(e){o.updateOfflineTD(JSON.stringify(t,null,2)),o.updateValidationMessage(e)}),(function(e){console.log("Error"),console.log(e)}))}(e),o.addLinkedTd(t),N({}),T())},submitText:"Add",children:M,title:"Add Link ",description:"Tell us how this ".concat(W.title," can interact with other ressources")}),document.getElementById("modal-root")):null})),H=function(e){document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},K=function(){document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")},Z=n(629),Y=n(364),X=function(e){return i.a.createElement("div",{className:"flex flex-row items-center"},i.a.createElement("div",{className:"pr-0.5"},e.children),i.a.createElement("button",{onClick:function(){return window.open(e.tooltip.href,"_blank")}},i.a.createElement(Q,{html:e.tooltip.html})),i.a.createElement("div",{className:"p-1"}))},Q=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Z.a,{color:"grey",size:"16","data-html":!0,"data-type":"info","data-tip":e.html,"data-background-color":"#2c2c2e"}),i.a.createElement(Y.a,{html:!0,type:"info"}))},ee=n(0),te=n(1),ne=Object(ee.a)((function e(t,n){Object(te.a)(this,e),this.html=t,this.href=n})),re=function(){return new ne("<h2 class='text-lg'>Web of Things Forms</h2>\n                    <p>A Form contains all information needed to make a request to a device.</p>\n                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>\n                    <br />\n                    <p>Click to get more information about Forms.</p>\n                ","https://www.w3.org/TR/wot-thing-description/#form")},ie=function(){return new ne("<h2 class='text-lg'>Web of Things Link</h2>\n                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>\n                    <p>Used to link Thing Description with other ressources.</p>\n                    <br />\n                    <p>Click to get more information about Links.</p>\n                ","https://www.w3.org/TR/wot-thing-description/#link")},oe={properties:new ne("<h2 class='text-lg'>Web of Things Properties</h2>\n                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>\n                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>\n                    <br />\n                    <p>Click to get more information about Properties.</p> \n                ","https://www.w3.org/TR/wot-thing-description/#propertyaffordance"),actions:new ne("<h2 class='text-lg'>Web of Things Actions</h2>\n                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>\n                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>\n                    <br />\n                    <p>Click to get more information about Actions.</p>\n                ","https://www.w3.org/TR/wot-thing-description/#actionaffordance"),events:new ne("<h2 class='text-lg'>Web of Things Events</h2>\n                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>\n                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>\n                <br />\n                <p>Click to get more information about Events.</p>\n            ","https://www.w3.org/TR/wot-thing-description/#eventaffordance"),forms:re(),links:ie()},ae=n(630);function se(e){var t={observeproperty:i.a.createElement(ce,{type:"properties",form:e.form,propName:e.propName}),unobserveproperty:i.a.createElement(le,{type:"properties",form:e.form,propName:e.propName}),observeallproperties:i.a.createElement(pe,{type:"forms",form:e.form,propName:e.propName}),unobserveallproperties:i.a.createElement(fe,{type:"forms",form:e.form,propName:e.propName}),readproperty:i.a.createElement(de,{type:"properties",form:e.form,propName:e.propName}),readmultipleproperties:i.a.createElement(ue,{type:"forms",form:e.form,formIndex:e.propName}),readallproperties:i.a.createElement(me,{type:"forms",form:e.form,formIndex:e.propName}),writeproperty:i.a.createElement(ye,{type:"properties",form:e.form,propName:e.propName}),writemultipleproperties:i.a.createElement(he,{type:"forms",form:e.form,formIndex:e.propName}),writeallproperties:i.a.createElement(ge,{type:"forms",form:e.form,formIndex:e.propName}),invokeaction:i.a.createElement(ve,{type:"actions",form:e.form,propName:e.propName}),unsubscribeevent:i.a.createElement(le,{type:"events",form:e.form,propName:e.propName})};return t[e.form.op]?t[e.form.op]:"action"===e.interactionType?i.a.createElement(ve,{type:"actions",form:e.form,propName:e.propName}):"event"===e.interactionType?i.a.createElement(ce,{type:"events",form:e.form,propName:e.propName}):i.a.createElement(be,{form:e.form,propName:e.propName})}function ce(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formOrange rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formOrange"},i.a.createElement("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formOrange place-self-center text-center text-xs px-4"},"Observe")),i.a.createElement("div",{className:"place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formOrange",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function le(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed"},i.a.createElement("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formRed place-self-center text-center text-xs px-4"},"Unobserve")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function pe(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formOrange rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formOrange"},i.a.createElement("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formOrange place-self-center text-center text-xs px-4"},"ObserveAll")),i.a.createElement("div",{className:"place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formOrange",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function fe(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed"},i.a.createElement("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formRed place-self-center text-center text-xs px-4"},"UnobserveAll")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function de(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen"},i.a.createElement("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formGreen place-self-center text-center text-xs px-4"},"Read")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function ue(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen"},i.a.createElement("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formGreen place-self-center text-center text-xs px-4"},"ReadMultiple")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function me(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen"},i.a.createElement("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formGreen place-self-center text-center text-xs px-4"},"ReadAll")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function ye(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue"},i.a.createElement("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formBlue place-self-center text-center text-xs px-4"},"Write")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function he(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue"},i.a.createElement("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formBlue place-self-center text-center text-xs px-4"},"WriteMultiple")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function ge(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue"},i.a.createElement("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formBlue place-self-center text-center text-xs px-4"},"WriteAll")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function ve(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed"},i.a.createElement("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formRed place-self-center text-center text-xs px-4"},"Invoke")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function be(e){var t=Object(r.useContext)(l);return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-gray-300 rounded-md px-4 mt-2 bg-opacity-75 border-2 border-gray-300"},i.a.createElement("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"place-self-center text-center text-xs px-4"},"Undefined")),i.a.createElement("div",{className:" place-self-center pl-3 text-base overflow-hidden flex-grow"},e.form.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-white",onClick:function(){return n=e,void t.removeForm(n);var n}},i.a.createElement(ae.a,{size:16,color:"black"})))}function xe(){xe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new $(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var f={};function d(){}function u(){}function m(){}var y={};c(y,o,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(j([])));g&&g!==t&&n.call(g,o)&&(y=g);var v=m.prototype=d.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,s){var c=p(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return u.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:u,configurable:!0}),u.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function we(e){var t=Object(r.useContext)(l),n=function(){var e=Object(s.a)(xe().mark((function e(n){var r;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.link.href,v(t,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue"},i.a.createElement("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center"},e.link.rel&&i.a.createElement("div",{className:"text-formBlue place-self-center text-center text-xs px-4"},e.link.rel)),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow"},e.link.href),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:function(){return function(e){var n=t.linkedTd;n[e.link.href]&&(delete n[e.link.href],t.updateLinkedTd(n)),t.removeLink(e.propName),t.updateIsModified(!0)}(e)}},i.a.createElement(ae.a,{size:16,color:"black"})),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||"file"===t.linkedTd[e.link.href].kind)&&i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:function(){return n(e)}},i.a.createElement(Z.a,{size:16,color:"black"})))}var Oe=n(631),Ee=function(e){var t,n;return i.a.createElement("div",{key:e.id,className:"py-1"},i.a.createElement("label",{htmlFor:e.id,className:"text-sm text-gray-400 font-medium pl-2"},e.label,":"),i.a.createElement("input",{name:e.id,id:e.id,className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:e.placeholder,type:null!==(t=e.type)&&void 0!==t?t:"text",autoFocus:null!==(n=e.autoFocus)&&void 0!==n&&n,onChange:e.onChange?function(){return e.onChange()}:null}),i.a.createElement("span",{id:"".concat(e.id,"-helper-text"),className:"text-xs text-red-400 pl-2"}))},ke=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:e.id,className:"text-sm text-gray-400 font-medium pl-2"},e.label,":"),i.a.createElement("textarea",{id:e.id,rows:"5",className:"bg-gray-600 sm:text-sm appearance-none  border-2 border-gray-600 rounded w-full  p-2 text-white  leading-tight  focus:outline-none  focus:border-blue-500",placeholder:e.placeholder}))},$e=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:e.id,className:"text-sm text-gray-400 font-medium pl-2"},e.label,":"),i.a.createElement("div",{className:"relative"},i.a.createElement("select",{className:"block appearance-none w-full bg-gray-600 border-2 border-gray-600 text-white py-3 px-4 pr-8 rounded leading-tight focus:border-blue-500 focus:outline-none",id:e.id},e.options.map((function(e){return i.a.createElement("option",{key:e},e)}))),i.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},i.a.createElement(Oe.a,{color:"#cacaca"}))))},je=function(e){var t;return i.a.createElement("div",{key:e.id,className:"form-checkbox pl-2"},null===(t=e.readOnly)||void 0===t||t?i.a.createElement("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):i.a.createElement("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),i.a.createElement("label",{className:"form-checkbox-label pl-2",htmlFor:e.id},e.label))},Ne=Object(r.forwardRef)((function(e,t){var n=Object(r.useContext)(l),o=i.a.useState((function(){return!1})),s=Object(c.a)(o,2),p=s[0],f=s[1],d="action",u="actions",m=d[0].toUpperCase()+d.slice(1);Object(r.useEffect)((function(){}),[p,n]),Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return y()},close:function(){return h()}}}));var y=function(){f(!0)},h=function(){f(!1)},g=i.a.createElement(i.a.Fragment,null,i.a.createElement(Ee,{id:"".concat(d,"-title"),label:"Title",placeholder:"".concat(m," Title"),autoFocus:!0,onChange:function(){return x()}}),i.a.createElement(ke,{id:"".concat(d,"-description"),label:"Description",placeholder:"A short description about the new ".concat(m,"...")})),v=function(e){var t=JSON.parse(n.offlineTD);t[u]||(t[u]={}),t[u][e.title]=e,I(JSON.stringify(t,null,2),console.log,{}).then((function(e){n.updateValidationMessage(e),n.updateOfflineTD(JSON.stringify(t,null,2))}),(function(e){console.log("Error"),console.log(e)}))},b=function(e){document.getElementById("".concat(d,"-title-helper-text")).textContent=e,document.getElementById("".concat(d,"-title")).classList.remove("border-gray-600"),document.getElementById("".concat(d,"-title")).classList.add("border-red-400")},x=function(){document.getElementById("".concat(d,"-title-helper-text")).textContent="",document.getElementById("".concat(d,"-title")).classList.add("border-gray-600"),document.getElementById("".concat(d,"-title")).classList.remove("border-red-400")};return p?a.a.createPortal(i.a.createElement(E,{onCancel:h,onSubmit:function(){!function(){var e={};e.title=document.getElementById("".concat(d,"-title")).value;var t=document.getElementById("".concat(d,"-description")).value;""!==t&&(e.description=t),e.forms=[];var r=JSON.parse(n.offlineTD);r[u]&&r[u][e.title]?b("An ".concat(m," with this title already exists...")):(v(e),h())}()},submitText:"Add ".concat(m),children:g,title:"Add New ".concat(m),description:"Tell us a little something about the ".concat(m," you want to add.")}),document.getElementById("modal-root")):null})),Se=Object(r.forwardRef)((function(e,t){var n=Object(r.useContext)(l),o=i.a.useState((function(){return!1})),s=Object(c.a)(o,2),p=s[0],f=s[1],d="event",u="events",m=d[0].toUpperCase()+d.slice(1);Object(r.useEffect)((function(){}),[p,n]),Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return y()},close:function(){return h()}}}));var y=function(){f(!0)},h=function(){f(!1)},g=i.a.createElement(i.a.Fragment,null,i.a.createElement(Ee,{id:"".concat(d,"-title"),label:"Title",placeholder:"".concat(m," Title"),autoFocus:!0,onChange:function(){return x()}}),i.a.createElement(ke,{id:"".concat(d,"-description"),label:"Description",placeholder:"A short description about the new ".concat(m,"...")})),v=function(e){var t=JSON.parse(n.offlineTD);t[u]||(t[u]={}),t[u][e.title]=e,I(JSON.stringify(t,null,2),console.log,{}).then((function(e){n.updateValidationMessage(e),n.updateOfflineTD(JSON.stringify(t,null,2))}),(function(e){console.log("Error"),console.log(e)}))},b=function(e){document.getElementById("".concat(d,"-title-helper-text")).textContent=e,document.getElementById("".concat(d,"-title")).classList.remove("border-gray-600"),document.getElementById("".concat(d,"-title")).classList.add("border-red-400")},x=function(){document.getElementById("".concat(d,"-title-helper-text")).textContent="",document.getElementById("".concat(d,"-title")).classList.add("border-gray-600"),document.getElementById("".concat(d,"-title")).classList.remove("border-red-400")};return p?a.a.createPortal(i.a.createElement(E,{onCancel:h,onSubmit:function(){!function(){var e={};e.title=document.getElementById("".concat(d,"-title")).value;var t=document.getElementById("".concat(d,"-description")).value;""!==t&&(e.description=t),e.forms=[];var r=JSON.parse(n.offlineTD);r[u]&&r[u][e.title]?b("An ".concat(m," with this title already exists...")):(v(e),h())}()},submitText:"Add ".concat(m),children:g,title:"Add New ".concat(m),description:"Tell us a little something about the ".concat(m," you want to add.")}),document.getElementById("modal-root")):null})),_e="undefined",Te=Object(r.forwardRef)((function(e,t){var n=Object(r.useContext)(l),o=i.a.useState((function(){return!1})),s=Object(c.a)(o,2),p=s[0],f=s[1],d="property",u="properties",m=d[0].toUpperCase()+d.slice(1);Object(r.useEffect)((function(){}),[p,n]),Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return y()},close:function(){return h()}}}));var y=function(){f(!0)},h=function(){f(!1)},g=i.a.createElement(i.a.Fragment,null,i.a.createElement(Ee,{id:"".concat(d,"-title"),label:"Title",placeholder:"".concat(m," Title"),autoFocus:!0,onChange:function(){return x()}}),i.a.createElement(ke,{id:"".concat(d,"-description"),label:"Description",placeholder:"A short description about the new ".concat(m,"...")}),i.a.createElement($e,{id:"".concat(d,"-type"),label:"Type",options:[_e,"number","integer","boolean","string","object","array"]}),i.a.createElement("div",{className:"h-2"}),i.a.createElement("label",{className:"text-sm text-gray-400 font-medium pl-3"},"Additional:"),i.a.createElement("div",{id:"additional",className:"bg-gray-600 p-1 rounded-md"},i.a.createElement(je,{id:"".concat(d,"-readOnly"),label:"Read Only"}),i.a.createElement(je,{id:"".concat(d,"-observable"),label:"Observable"}))),v=function(e){var t=JSON.parse(n.offlineTD);t[u]||(t[u]={}),t[u][e.title]=e,I(JSON.stringify(t,null,2),console.log,{}).then((function(e){n.updateValidationMessage(e),n.updateOfflineTD(JSON.stringify(t,null,2))}),(function(e){console.log("Error"),console.log(e)}))},b=function(e){document.getElementById("".concat(d,"-title-helper-text")).textContent=e,document.getElementById("".concat(d,"-title")).classList.remove("border-gray-600"),document.getElementById("".concat(d,"-title")).classList.add("border-red-400")},x=function(){document.getElementById("".concat(d,"-title-helper-text")).textContent="",document.getElementById("".concat(d,"-title")).classList.add("border-gray-600"),document.getElementById("".concat(d,"-title")).classList.remove("border-red-400")};return p?a.a.createPortal(i.a.createElement(E,{onCancel:h,onSubmit:function(){!function(){var e={};e.title=document.getElementById("".concat(d,"-title")).value,e.observable=document.getElementById("".concat(d,"-observable")).checked,e.readOnly=document.getElementById("".concat(d,"-readOnly")).checked;var t=document.getElementById("".concat(d,"-description")).value;""!==t&&(e.description=t);var r=document.getElementById("".concat(d,"-type")).value;r!==_e&&(e.type=r),"array"===r?e.items={}:"object"===r&&(e.properties={}),e.forms=[];var i=JSON.parse(n.offlineTD);i[u]&&i[u][e.title]?b("A ".concat(m," with this title already exists...")):(v(e),h())}()},submitText:"Add ".concat(m),children:g,title:"Add New ".concat(m),description:"Tell us a little something about the ".concat(m," you want to add.")}),document.getElementById("modal-root")):null})),Ie=n(632),Pe=["title","forms","description"];function Le(e){var t,n=Object(r.useContext)(l),o=i.a.useRef();if(0===Object.keys(e.action).length&&e.action.constructor!==Object)return i.a.createElement("div",{className:"text-3xl text-white"},"Action could not be rendered because mandatory fields are missing.");var a=e.action,s=m(e.action.forms),c=u({name:e.actionName},e.action,Pe),p=Object.keys(c).map((function(e){return i.a.createElement("li",{key:e},e," : ",JSON.stringify(c[e]))}));return i.a.createElement("details",null,i.a.createElement("summary",{className:"text-xl text-gray-400 flex flex-row justify-start items-center cursor-pointer p-0.5"},i.a.createElement("div",{className:"flex-grow"},null!==(t=a.title)&&void 0!==t?t:e.actionName),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400",onClick:function(){n.removeOneOfAKindReducer("actions",e.actionName)}},i.a.createElement(ae.a,{size:16,color:"black"}))),i.a.createElement("div",{className:"mb-4"},i.a.createElement("div",{className:"text-lg text-gray-400 pb-2"},a.description),i.a.createElement("ul",{className:"text-base text-gray-300 list-disc pl-8"},p),i.a.createElement("div",{className:"flex flex-row items-center "},i.a.createElement("div",{className:"flex flex-grow"},i.a.createElement(X,{className:" flex-grow",tooltip:re()},i.a.createElement("h4",{className:"text-lg text-gray-400 pr-1 text-bold"},"Forms"))),i.a.createElement("button",{onClick:function(){o.current.openModal()}},i.a.createElement(Ie.a,{color:"#cacaca",size:"18"})),i.a.createElement(F,{type:"action",interaction:a,interactionName:e.actionName,ref:o})),s.map((function(t,n){return i.a.createElement(se,{key:n,form:t,propName:e.actionName,interactionType:"action"})}))))}var De=["title","forms","description"];function Ce(e){var t,n=Object(r.useContext)(l),o=i.a.useRef();if(0===Object.keys(e.event).length&&e.event.constructor!==Object)return i.a.createElement("div",{className:"text-3xl text-white"},"Event could not be rendered because mandatory fields are missing.");var a=e.event,s=m(e.event.forms),c=u({name:e.eventName},e.event,De),p=Object.keys(c).map((function(e){return i.a.createElement("li",{key:e},e," : ",JSON.stringify(c[e]))}));return i.a.createElement("details",null,i.a.createElement("summary",{className:"text-xl text-gray-400 flex flex-row justify-start items-center cursor-pointer p-0.5"},i.a.createElement("div",{className:"flex-grow"},null!==(t=a.title)&&void 0!==t?t:e.eventName),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400",onClick:function(){n.removeOneOfAKindReducer("events",e.eventName)}},i.a.createElement(ae.a,{size:16,color:"black"}))),i.a.createElement("div",{className:"mb-4"},i.a.createElement("div",{className:"text-lg text-gray-400 pb-2"},a.description),i.a.createElement("ul",{className:"text-base text-gray-300 list-disc pl-8"},p),i.a.createElement("div",{className:"flex flex-row items-center "},i.a.createElement("div",{className:"flex flex-grow"},i.a.createElement(X,{className:" flex-grow",tooltip:re()},i.a.createElement("h4",{className:"text-lg text-gray-400 pr-1 text-bold"},"Forms"))),i.a.createElement("button",{onClick:function(){o.current.openModal()}},i.a.createElement(Ie.a,{color:"#cacaca",size:"18"})),i.a.createElement(F,{type:"event",interaction:a,interactionName:e.eventName,ref:o})),s.map((function(t,n){return i.a.createElement(se,{key:n,form:t,propName:e.eventName,interactionType:"event"})}))))}var Ae=["title","forms","description"];function Fe(e){var t,n=Object(r.useContext)(l),o=i.a.useRef();if(0===Object.keys(e.prop).length&&e.prop.constructor!==Object)return i.a.createElement("div",{className:"text-3xl text-white"},"Property could not be rendered because mandatory fields are missing.");var a=e.prop,s=m(e.prop.forms),c=u({name:e.propName},e.prop,Ae),p=Object.keys(c).map((function(e){return i.a.createElement("li",{key:e},e," : ",JSON.stringify(c[e]))}));return i.a.createElement("details",null,i.a.createElement("summary",{className:"text-xl text-gray-400 flex flex-row w-full justify-start items-center cursor-pointer p-0.5"},i.a.createElement("h3",{className:"flex-grow"},null!==(t=a.title)&&void 0!==t?t:e.propName),i.a.createElement("button",{className:"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400",onClick:function(){n.removeOneOfAKindReducer("properties",e.propName)}},i.a.createElement(ae.a,{size:16,color:"black"}))),i.a.createElement("div",{className:"mb-4"},i.a.createElement("div",{className:"text-lg text-gray-400 pb-2"},a.description),i.a.createElement("ul",{className:"list-disc text-base text-gray-300 pl-8"},p),i.a.createElement("div",{className:"flex justify-start items-center pt-2"},i.a.createElement("div",{className:"flex flex-grow"},i.a.createElement(X,{className:" flex-grow",tooltip:re()},i.a.createElement("h4",{className:"text-lg text-gray-400 pr-1 text-bold"},"Forms"))),i.a.createElement("button",{onClick:function(){o.current.openModal()}},i.a.createElement(Ie.a,{color:"#cacaca",size:"18"})),i.a.createElement(F,{type:"property",interaction:a,interactionName:e.propName,ref:o})),s.map((function(t,n){return i.a.createElement(se,{key:n,propName:e.propName,form:t,interactionType:"property",className:"last:pb-4"})}))))}var Me=n(633),qe=function(e){return i.a.createElement("div",{className:"relative text-gray-600"},i.a.createElement("input",{type:"search",autoComplete:"on",className:"caret-gray bg-gray-600 text-white px-5 pr-10 place-self-center rounded-lg text-sm focus:outline-none h-9",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),i.a.createElement("div",{disabled:!0,type:"submit",className:"cursor-default absolute right-0 top-0 mt-1 mr-4"},i.a.createElement(Me.a,{color:"#2c2c2e"})))},Ue="asc",Be={},Re={},ze=function(e){var t=Object(r.useState)(""),n=Object(c.a)(t,2),o=n[0],a=n[1],s=Object(r.useState)(Ue),p=Object(c.a)(s,2),f=p[0],d=p[1],u=e.interaction.toLowerCase(),m=Object(r.useContext)(l);try{Re=Be;var y=JSON.parse(m.offlineTD);Be=y}catch(b){Be=Re}var h,g=function(){var e=function(){if(Be[u]){var e={};return Object.keys(Be[u]).filter((function(e){return e.toLowerCase().indexOf(o.toLowerCase())>-1})).forEach((function(t){e[t]=Be[u][t]})),e}}();return Be.properties&&"properties"===u?Object.keys(e).map((function(t,n){return i.a.createElement(Fe,{prop:e[t],propName:t,key:n})})):Be.actions&&"actions"===u?Object.keys(e).map((function(t,n){return i.a.createElement(Le,{action:e[t],actionName:t,key:n})})):Be.events&&"events"===u?Object.keys(e).map((function(t,n){return i.a.createElement(Ce,{event:e[t],eventName:t,key:n})})):void 0},v=i.a.useRef();switch(u){case"properties":h=i.a.createElement(Te,{ref:v});break;case"actions":h=i.a.createElement(Ne,{ref:v});break;case"events":h=i.a.createElement(Se,{ref:v})}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"flex justify-start items-end pt-8 pb-4"},i.a.createElement("div",{className:"flex flex-grow"},i.a.createElement(X,{tooltip:oe[u]},i.a.createElement("h2",{className:"text-2xl text-white pr-1 flex-grow"},e.interaction))),i.a.createElement(qe,{onKeyUp:function(e){return a(e.target.value)},placeholder:"Search ".concat(e.interaction),ariaLabel:"Search through all ".concat(e.interaction)}),i.a.createElement("div",{className:"w-2"}),i.a.createElement("button",{className:"text-white bg-blue-500 cursor-pointer rounded-md p-2 h-9",onClick:function(){return function(e){if(Be[e]){var t={},n=Object.keys(Be[e]).map((function(t){return{key:t,title:Be[e][t].title}}));f===Ue?(n.sort((function(e,t){var n=e.title?e.title:e.key,r=t.title?t.title:t.key;return n.localeCompare(r)})).forEach((function(n){t[n.key]=Be[e][n.key]})),d("desc")):(n.sort((function(e,t){var n=e.title?e.title:e.key,r=t.title?t.title:t.key;return n.localeCompare(r)})).reverse().forEach((function(n){t[n.key]=Be[e][n.key]})),d(Ue)),Be[e]=t,I(JSON.stringify(Be,null,2),console.log,{}).then((function(e){m.updateValidationMessage(e),m.updateOfflineTD(JSON.stringify(Be,null,2))}),(function(e){console.log("Error"),console.log(e)}))}}(u)}},f===Ue?i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i.a.createElement("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})):i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i.a.createElement("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"}))),i.a.createElement("div",{className:"w-2"}),i.a.createElement("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",onClick:function(){v.current.openModal()}},"Add"),h),g()&&i.a.createElement("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4"},g()))},Je=n(21),We=n(634);var Ge=function e(t){var n=Object(r.useContext)(l),o=Object(r.useState)(new Array(Object.entries(t).length)),a=Object(c.a)(o,2),s=a[0],p=a[1],f=Object(r.useCallback)((function(e){var t=s,n=s[e];t[e]=null===n||!n,p(Object(Je.a)(t))}),[s,p]);return i.a.createElement(i.a.Fragment,null,Object.entries(t).map((function(r,o){var a,l=Object(c.a)(r,2),p=l[0],d=l[1];if(null!==(a=d)&&("function"===typeof a||"object"===typeof a)){var u,m=i.a.createElement("button",{className:"flex align-top",onClick:function(){return f(o)}},i.a.createElement("div",{className:"flex text-white font-bold bg-gray-600 py-1 px-2 rounded-md align-middle"},i.a.createElement("h4",null,p),!0===s[o]?i.a.createElement(Oe.a,{className:"pl-1"}):i.a.createElement(We.a,{className:"pl-1"}))),y=i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"flex w-1 rounded-lg bg-gray-400 ml-2 my-1"}),i.a.createElement("div",{className:"pl-8 mt-1"},!0===s[o]&&(null!==(u=Object.entries(d))&&void 0!==u?u:[]).map((function(t,n){var r=Object(c.a)(t,2),o=r[0],a=r[1],s={};return s[o]=a,i.a.createElement(e,Object.assign({},s,{key:n}))}))));return i.a.createElement("div",{className:"mb-1",key:o},m,!0===s[o]&&y)}var h=O(t,p,n.linkedTd[Object.keys(n.linkedTd)[0]]["@context"]);return i.a.createElement("div",{className:"flex mb-1",key:o},i.a.createElement("h4",{className:"text-white font-bold bg-gray-600 py-1 px-2 rounded-md"},p),i.a.createElement("div",{className:"text-gray-400 px-2 py-1"},h))})))},Ve=n(149),He=n(308),Ke=n(274);function Ze(){Ze=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new $(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var f={};function d(){}function u(){}function m(){}var y={};c(y,o,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(j([])));g&&g!==t&&n.call(g,o)&&(y=g);var v=m.prototype=d.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,s){var c=p(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return u.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:u,configurable:!0}),u.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Ye={},Xe={},Qe="",et="",tt="",nt="",rt="";function it(){var e,t,n,o=Object(r.useContext)(l),a=i.a.useRef(),p=i.a.useRef(),f=i.a.useState((function(){return 0})),d=Object(c.a)(f,2),y=d[0],h=d[1],g=i.a.useState((function(){return"list"})),b=Object(c.a)(g,2),x=b[0],w=b[1],E=i.a.useState((function(){return!1})),k=Object(c.a)(E,2),$=k[0],j=k[1],N=function(e){w(e)};Object(r.useEffect)((function(){document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",(function(e){document.getElementsByTagName("details")[1].attributes.open?j(!0):j(!1)}),!1);var e=100,t=30,n=new Ve.a.Graph,r=new Ve.a.Paper({el:document.getElementById("tdGraph"),model:n,height:270+y,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0}),i={};if(o.offlineTD)try{i=JSON.parse(o.offlineTD)}catch(w){var a=w.message;console.error(a)}if(i.links){var c=new He.a.standard.Rectangle;c.position(100,10),c.resize(140,40),c.attr({body:{fill:"#005A9C"},label:{text:i.title,fill:"white"}}),c.set("td",{}),c.resize(12*c.attributes.attrs.label.text.length,40),n.addCell(c);for(var l=0;l<i.links.length;l++){e+=70,t+=60;var p=i.links[l].href,f=new He.a.standard.Rectangle;f.position(e,t),f.attr({body:{fill:"#005A9C"},label:{text:p,fill:"white"}}),f.resize(12*f.attributes.attrs.label.text.length,40),n.addCell(f),f.set("href",p);var d=new Ve.b.Remove({useModelGeometry:!0,y:"0%",x:"100%",action:function(){var e=Object(s.a)(Ze().mark((function e(t,n,r){var a,s;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.linkedTd&&(a=o.linkedTd)[n.model.get("href")]&&(delete a[n.model.get("href")],o.updateLinkedTd(a)),s=0;case 2:if(!(s<i.links.length)){e.next=10;break}if(i.links[s].href!==n.model.get("href")){e.next=7;break}return o.removeLink(s),o.updateIsModified(!0),e.abrupt("break",10);case 7:s++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}),u=new Ve.a.ToolsView({tools:[d]}),m=f.findView(r);if(m.addTools(u),o.linkedTd&&o.linkedTd[p]&&("file"===o.linkedTd[p].kind||Object.keys(o.linkedTd[p]).length)){f.set("td",o.linkedTd[p]);var g=new Ve.b.Button({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:function(){var e=Object(s.a)(Ze().mark((function e(t,n,r){var i;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.model.get("href"),v(o,i);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}),b=new Ve.a.ToolsView({tools:[d,g]});m.addTools(b)}var x=new He.a.standard.Link({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:void 0===i.links[l].rel?"":i.links[l].rel,fill:"grey"}}}]});x.source(c),x.target(f),x.addTo(n)}h(t+30)}try{(Qe=o.validationMessage).report&&(et=Qe.report.json),Qe.report&&(tt=Qe.report.schema),Qe.validationErrors?(nt=Qe.validationErrors.json,console.log("Error",nt),rt=Qe.validationErrors.schema,console.log("SchemaError",rt)):(nt=null,rt=null)}catch(w){console.error(w)}}),[y,x,o]);try{Xe=Ye,Ye=JSON.parse(o.offlineTD)}catch(_){Ye=Xe}if(!Object.keys(Ye).length)return i.a.createElement("div",{className:"flex h-full w-full bg-gray-500 justify-center align-center text-center "},i.a.createElement("div",{className:"text-4xl text-white place-self-center"},'Start writing a new TD by clicking "New TD"'));if(Ye){if(Ye.forms)e=m(Ye.forms).map((function(e,t){return i.a.createElement(se,{form:e,propName:t,key:t})}));if(Ye.links)t=Ye.links.map((function(e,t){return i.a.createElement(we,{link:e,propName:t,key:t})}));n=Ye;var S=u(Ye.id?{id:Ye.id}:{},Ye,["id","properties","actions","events","forms","description","title","links"]);return i.a.createElement("div",{className:"h-full w-full bg-gray-500 p-8 overflow-auto"},i.a.createElement("div",{className:"container bg-white text-black rounded-md p-4 mb-4"},i.a.createElement("div",{className:"flex"},i.a.createElement("h3",null,"JSON Validation"),"passed"===et&&i.a.createElement(Ke.a,{style:{marginLeft:"5px",position:"relative",top:"5px"}}),"failed"===et&&i.a.createElement(Ke.b,{style:{marginLeft:"5px"}})),null!==nt&&i.a.createElement("div",{className:"flex h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed"},i.a.createElement("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formRed place-self-center text-center text-xs px-4"},"Error")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden"},nt)),i.a.createElement("div",{className:"flex"},i.a.createElement("h2",null,"JSON Schema Validation "),"passed"===tt&&i.a.createElement(Ke.a,{style:{marginLeft:"5px"}}),"failed"===tt&&i.a.createElement(Ke.b,{style:{marginLeft:"5px",position:"relative",top:"5px"}})),null!==rt&&i.a.createElement("div",{className:"flex h-full w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed"},i.a.createElement("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center"},i.a.createElement("div",{className:"text-formRed place-self-center text-center text-xs px-4"},"Error")),i.a.createElement("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden"},rt))),void 0!==n&&Object.keys(n).length>0&&i.a.createElement("div",null,i.a.createElement("div",{className:"text-3xl text-white"},O(n,"title",n["@context"])),i.a.createElement(Ge,S),n.description?i.a.createElement("div",{className:"text-xl text-white pt-4"},O(n,"description",n["@context"])):i.a.createElement(i.a.Fragment,null)),i.a.createElement("details",{className:"pt-8"},i.a.createElement("summary",{className:"flex justify-start items-center cursor-pointer"},i.a.createElement("div",{className:"flex flex-grow"},i.a.createElement(X,{tooltip:re()},i.a.createElement("h2",{className:"text-2xl text-white p-1 flex-grow"},"Forms"))),i.a.createElement("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2",onClick:function(){a.current.openModal()}},"Add Top Level Form"),i.a.createElement(F,{type:"thing",interaction:Ye,ref:a})),e&&i.a.createElement("div",{className:"pt-4"},i.a.createElement("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4"},e))),i.a.createElement("details",{className:"pt-8"},i.a.createElement("summary",{className:"flex justify-start items-center cursor-pointer"},i.a.createElement("div",{className:"flex flex-grow"},i.a.createElement(X,{tooltip:ie()},i.a.createElement("h2",{className:"text-2xl text-white p-1 flex-grow"},"Links")),$&&i.a.createElement("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",disabled:"list"===x,onClick:function(){return N("list")}},"List"),$&&i.a.createElement("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",style:{marginLeft:"10px"},disabled:"graph"===x,onClick:function(){return N("graph")}},"Graph")),i.a.createElement("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2",onClick:function(){p.current.openModal()}},"Add Top Level Link"),i.a.createElement(V,{type:"link",interaction:Ye,ref:p})),t&&"graph"===x&&i.a.createElement("div",{className:"pt-4"},i.a.createElement("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4",id:"tdGraph"})),t&&"list"===x&&i.a.createElement("div",{className:"pt-4"},i.a.createElement("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4"},t))),i.a.createElement(ze,{interaction:"Properties"}),i.a.createElement(ze,{interaction:"Actions"}),i.a.createElement(ze,{interaction:"Events"}))}}var ot=n(368);function at(){at=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new $(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var f={};function d(){}function u(){}function m(){}var y={};c(y,o,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(j([])));g&&g!==t&&n.call(g,o)&&(y=g);var v=m.prototype=d.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,s){var c=p(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return u.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:u,configurable:!0}),u.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var st=n(605),ct="https://raw.githubusercontent.com/thingweb/thingweb-playground/%40thing-description-playground/web%401.0.0/packages/playground-core/td-schema.json",lt="https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",pt={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20},ft=function(e){var t=Object(r.useContext)(l),n=Object(r.useState)([]),o=Object(c.a)(n,1)[0],a=Object(r.useState)(void 0),p=Object(c.a)(a,2),f=p[0],d=p[1],u=Object(r.useRef)(null),m=Object(r.useState)([]),y=Object(c.a)(m,2),h=y[0],g=y[1],b=function(){var e=Object(s.a)(at().mark((function e(t){var n;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]}),"Proxy"in window){e.next=4;break}return console.warn("Your browser doesn't support Proxies."),e.abrupt("return");case 4:n=new Proxy(o,{set:function(e,n,r,i){e[n]=r;for(var o=[ct],a=0;a<e.length;a++)o.push({fileMatch:["*/*"],uri:e[a]});return t.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:o}),!0}}),d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){f.includes(e)||f.push(e)},w=function(e){var t=f.indexOf(e);-1!==t&&f.splice(t,1)},O=function(){var e=Object(s.a)(at().mark((function e(t){var n,r,i;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.includes(t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n=new URL(t),e.next=6,fetch(n);case 6:return r=e.sent,e.next=9,r.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(s.a)(at().mark((function e(n,r){var i;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(at().mark((function e(){var r,i,o,a,c,l,p;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("@context"in(r=JSON.parse(n))){e.next=4;break}return f.splice(0,(void 0).state.proxy.length),e.abrupt("return",{v:void 0});case 4:if(void 0!==t.isThingModel){e.next=10;break}return t.updateIsThingModel(!1),e.next=8,O(ct);case 8:e.sent&&x(ct);case 10:if(i=r["@context"],!((o=r["@type"])&&o.indexOf("ThingModel")>-1)){e.next=21;break}if(t.isThingModel){e.next=19;break}return t.updateIsThingModel(!0),e.next=17,O(lt);case 17:e.sent&&(x(lt),w(ct));case 19:e.next=28;break;case 21:if(!t.isThingModel){e.next=28;break}if(!(JSON.stringify(i).indexOf("https://www.w3.org/2019/wot/td/v1")>-1)){e.next=28;break}return t.updateIsThingModel(!1),e.next=26,O(ct);case 26:e.sent&&(x(ct),w(lt));case 28:if("string"!==typeof i){e.next=35;break}if(void 0===st[i]||f.includes(st[i])){e.next=35;break}return e.next=32,O(i);case 32:return e.sent&&x(i),e.abrupt("return",{v:void 0});case 35:if(!Array.isArray(i)){e.next=43;break}a=at().mark((function e(t){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof i[t]){e.next=7;break}if(void 0===st[i]||f.includes(st[i])){e.next=7;break}return console.log("found schema for",i),e.next=5,O(i[t]);case 5:e.sent&&x(i[t]);case 7:"object"===typeof i[t]&&Object.keys(i[t]).forEach(function(){var e=Object(s.a)(at().mark((function e(n){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===st[i[t][n]]||f.includes(st[i])){e.next=5;break}return e.next=3,O(st[i[t][n]]);case 3:e.sent&&x(st[i[t][n]]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})),c=0;case 38:if(!(c<i.length)){e.next=43;break}return e.delegateYield(a(c),"t0",40);case 40:c++,e.next=38;break;case 43:if(Array.isArray(i))for(l=function(e){var t=Object.keys(st).find((function(t){return st[t]===f[e]}));i.includes(t)||w(f[e])},p=0;p<f.length;p++)l(p);case 44:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:if("object"!==typeof(i=e.t0)){e.next=5;break}return e.abrupt("return",i.v);case 5:e.next=9;break;case 7:e.prev=7,e.t1=e.catch(0);case 9:return e.prev=9,I(n,console.log,{}).then((function(e){t.updateValidationMessage(e),t.updateOfflineTD(n,"Editor")}),(function(e){console.log("Error"),console.log(e)})),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(t,n){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(at().mark((function e(){var n,r,o;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{if(t.linkedTd){for(o in n=[],r=0,t.linkedTd)("file"===t.linkedTd[o].kind||Object.keys(t.linkedTd[o]).length)&&(n.push(i.a.createElement("option",{value:o,key:r},o)),r++);g(n)}}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.linkedTd,t.offlineTD]);var k=function(){var e=Object(s.a)(at().mark((function e(){var n;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("linkedTd").value,v(t,n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"tabsBackground"},t.offlineTD&&t.linkedTd&&i.a.createElement("select",{name:"linkedTd",id:"linkedTd",className:"text-white",onChange:function(){return k()}},h)),i.a.createElement("div",{className:"w-full h-full",id:"editor"},i.a.createElement(ot.a,{options:pt,theme:"vs-"+t.theme,language:"json",ref:u,value:t.offlineTD,editorWillMount:b,editorDidMount:function(e,t){e.onDidChangeModelDecorations((function(){var t=e.getModel();null!==t&&t.getModeId()}))},onChange:function(){var e=Object(s.a)(at().mark((function e(t){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})))},dt=n(366),ut=n.n(dt),mt=n(367),yt=n.n(mt);function ht(e){return i.a.createElement("button",{onClick:e.onClick,className:" flex bg-blue-400                  hover:bg-blue-300  text-white  font-bold  py-2 px-5  rounded  h-12 text-center  cursor-pointer justify-center "},i.a.createElement("div",{className:"place-self-center"},e.children))}var gt=Object(r.forwardRef)((function(e,t){var n=Object(r.useContext)(l),o=i.a.useState((function(){return!1})),s=Object(c.a)(o,2),p=s[0],f=s[1];Object(r.useEffect)((function(){!0===p&&(xt(vt(n.offlineTD)),wt())}),[p,n]),Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return d()},close:function(){return u()}}}));var d=function(){f(!0)},u=function(){f(!1)},m=bt(n.offlineTD);return p?a.a.createPortal(i.a.createElement(E,{onCancel:u,cancelText:"Close",hasSubmit:!1,children:m,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null})),vt=function(e){var t={};try{t=JSON.parse(e)}catch(n){}return"".concat(window.location.origin+window.location.pathname,"?td=").concat(encodeURIComponent(JSON.stringify(t)))},bt=function(e){return i.a.createElement("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",defaultValue:vt(e)})},xt=function(e){document.hasFocus()&&navigator.clipboard.writeText(e).then((function(){console.log("Async: Copied TD link to clipboard!")}),(function(e){console.error("Async: Could not copy TD to clipboard: ",e)}))},wt=function(){setTimeout((function(){try{document.getElementById("share-td-field").select()}catch(e){}}),250)},Ot=Object(r.forwardRef)((function(e,t){var n=Object(r.useContext)(l),o=i.a.useState([]),s=Object(c.a)(o,2),p=s[0],f=s[1],d=i.a.useState((function(){return!1})),u=Object(c.a)(d,2),m=u[0],y=u[1];Object(r.useEffect)((function(){f(Et(n.offlineTD))}),[n]),Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return h()},close:function(){return g()}}}));var h=function(){y(!0)},g=function(){y(!1)};return m?a.a.createPortal(i.a.createElement(E,{onCancel:g,onSubmit:function(){return kt(n.offlineTD,p)},submitText:"Generate TD",children:p,title:"Generate TD From TM",description:"Please provide values to switch the placeholders with."}),document.getElementById("modal-root")):null})),Et=function(e){try{for(var t,n=/{{/gi,r=[];t=n.exec(e);)r.push(t.index);n=/}}/gi;for(var o=[];t=n.exec(e);)o.push(t.index);for(var a=[],s=0;s<r.length;s++)a.push(e.slice(r[s]+2,o[s]));var c=(a=Object(Je.a)(new Set(a))).map((function(e){return i.a.createElement("div",{key:e,className:"py-1"},i.a.createElement("label",{htmlFor:e,className:"text-sm text-gray-400 font-medium pl-2"},e,":"),i.a.createElement("input",{type:"text",name:e,id:e,className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"Enter a value..."}))})),l=[],f=[],d=[];try{var u=function(e,t){return t.map((function(t){var n=v[e].includes(t);return i.a.createElement("div",{key:"".concat(e,"/").concat(t),className:"form-checkbox py-1 pl-2"},i.a.createElement("input",{id:"".concat(e,"/").concat(t),className:"form-checkbox-input",type:"checkbox",value:"#".concat(e,"/").concat(t),disabled:n,defaultChecked:!0,title:n?"This field is required by the TM.":"","data-interaction":e}),i.a.createElement("label",{className:"form-checkbox-label pl-2",htmlFor:"".concat(e,"/").concat(t)},"#".concat(e,"/").concat(t)))}))},m=JSON.parse(e),y=Object.keys(m.properties?m.properties:{}),h=Object.keys(m.actions?m.actions:{}),g=Object.keys(m.events?m.events:{}),v={properties:[],actions:[],events:[]};if(m["tm:required"]){var b,x=Object(p.a)(m["tm:required"]);try{for(x.s();!(b=x.n()).done;){var w=b.value;w.startsWith("#properties/")?v.properties.push(w.split("/")[1]):w.startsWith("#actions/")?v.actions.push(w.split("/")[1]):w.startsWith("#events/")&&v.events.push(w.split("/")[1])}}catch(E){x.e(E)}finally{x.f()}}l=u("properties",y),f=u("actions",h),d=u("events",g)}catch(k){}var O=i.a.createElement("h2",{key:"modalDividerText",className:"text-gray-400 pb-2 pt-4"},"Also, select/unselect the interaction affordances you would like to see in the new TD.");return[].concat(Object(Je.a)(c),[O],Object(Je.a)(l),Object(Je.a)(f),Object(Je.a)(d))}catch($){return console.log($),[]}},kt=function(e,t){var n,r={},i=[],o=[],a=[],s=Object(p.a)(t);try{for(s.s();!(n=s.n()).done;){var c=n.value;c.props.className.indexOf("form-checkbox")>-1&&document.getElementById(c.props.children[0].props.id).checked&&("properties"===c.props.children[0].props["data-interaction"]?i.push(c.key.split("/")[1]):"actions"===c.props.children[0].props["data-interaction"]?o.push(c.key.split("/")[1]):"events"===c.props.children[0].props["data-interaction"]&&a.push(c.key.split("/")[1]))}}catch(y){s.e(y)}finally{s.f()}(t=t.filter((function(e){return-1===e.props.className.indexOf("form-checkbox")&&"modalDividerText"!==e.key}))).forEach((function(e){var t=document.getElementById(e.key);return r[e.key]=t.value,t.value})),Object.keys(r).forEach((function(t){e=e.split("{{".concat(t,"}}")).join(r[t])}));var l=JSON.parse(e);if(l.properties){var f=Object.keys(l.properties).filter((function(e){return i.includes(e)})).reduce((function(e,t){return e[t]=l.properties[t],e}),{});l.properties=f}if(l.actions){var d=Object.keys(l.actions).filter((function(e){return o.includes(e)})).reduce((function(e,t){return e[t]=l.actions[t],e}),{});l.actions=d}if(l.events){var u=Object.keys(l.events).filter((function(e){return a.includes(e)})).reduce((function(e,t){return e[t]=l.events[t],e}),{});l.events=u}delete l["@type"],delete l["tm:required"];var m="".concat(window.location.origin+window.location.pathname,"?td=").concat(encodeURIComponent(JSON.stringify(l)));window.open(m,"_blank")},$t=Object(r.forwardRef)((function(e,t){var n=Object(r.useContext)(l),o=i.a.useState((function(){return!1})),s=Object(c.a)(o,2),p=s[0],f=s[1],d=i.a.useState("TD"),u=Object(c.a)(d,2),m=u[0],y=u[1];Object(r.useImperativeHandle)(t,(function(){return{openModal:function(){return h()},close:function(){return g()}}}));var h=function(){f(!0)},g=function(){f(!1)},v=jt((function(e){y(e.target.value)}),(function(){return m}));return p?a.a.createPortal(i.a.createElement(E,{onCancel:g,onSubmit:function(){var e=St(m),t={};t[e.title]=e,n.updateLinkedTd(void 0),n.addLinkedTd(t),n.updateShowConvertBtn("TM"===m),I(JSON.stringify(e,null,"\t"),console.log,{}).then((function(t){n.updateValidationMessage(t),n.updateOfflineTD(JSON.stringify(e,null,"\t"),"AppHeader")}),(function(e){console.log("Error"),console.log(e)})),g()},children:v,submitText:"TD"===m?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going."}),document.getElementById("modal-root")):null})),jt=function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"type",className:"text-sm text-gray-400 font-medium pl-2"},"Type:"),i.a.createElement("div",{className:"relative"},i.a.createElement("select",{className:"block appearance-none w-full bg-gray-600 border-2 border-gray-600 text-white py-3 px-4 pr-8 rounded leading-tight focus:border-blue-500 focus:outline-none",id:"type",onChange:e,value:t()},i.a.createElement("option",{value:"TD"},"Thing Description"),i.a.createElement("option",{value:"TM"},"Thing Model")),i.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},i.a.createElement(Oe.a,{color:"#cacaca"}))),Nt("ID","urn:thing-id","thing-id","url","autoFocus"),Nt("Title","Thing Title","thing-title","text"),Nt("Base","http://www.example.com/thing-path","thing-base","url"),i.a.createElement("label",{htmlFor:"thing-description",className:"text-sm text-gray-400 font-medium pl-2"},"Description:"),i.a.createElement("textarea",{id:"thing-description",rows:"5",className:"bg-gray-600 sm:text-sm appearance-none border-2 border-gray-600 rounded w-full p-2 text-white leading-tight focus:outline-none focus:border-blue-500",placeholder:"A short description about this new Thing..."}),i.a.createElement("label",{htmlFor:"thing-security",className:"text-sm text-gray-400 font-medium pl-2"},"Security:"),i.a.createElement("div",{className:"relative"},i.a.createElement("select",{className:"block appearance-none w-full bg-gray-600 border-2 border-gray-600 text-white py-3 px-4 pr-8 rounded leading-tight focus:border-blue-500 focus:outline-none",id:"thing-security"},i.a.createElement("option",null,"nosec"),i.a.createElement("option",null,"basic"),i.a.createElement("option",null,"digest"),i.a.createElement("option",null,"bearer"),i.a.createElement("option",null,"psk"),i.a.createElement("option",null,"oauth2"),i.a.createElement("option",null,"apikey")),i.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},i.a.createElement(Oe.a,{color:"#cacaca"}))))},Nt=function(e,t,n,r,o){return i.a.createElement("div",{key:n,className:"py-1"},i.a.createElement("label",{htmlFor:n,className:"text-sm text-gray-400 font-medium pl-2"},e,":"),i.a.createElement("input",{name:n,id:n,className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:t,type:r,autoFocus:"autoFocus"===o}))},St=function(e){var t=document.getElementById("thing-id").value,n=document.getElementById("thing-title").value,r=document.getElementById("thing-base").value,i=document.getElementById("thing-description").value,o=document.getElementById("thing-security").value,a={"@context":"https://www.w3.org/2019/wot/td/v1"};a.title=""!==n?n:"ediTDor Thing","TM"===e&&(a["@type"]="tm:ThingModel"),""!==t&&(a.id=""!==t?t:"urn:editdor-thing-id"),""!==r&&(a.base=""!==r?r:"/"),""!==i&&(a.description=i);var s={};return s["".concat(o,"_sc")]={scheme:o},a.securityDefinitions=s,a.security="".concat(o,"_sc"),a.properties={},a.actions={},a.events={},a};function _t(){_t=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new $(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var f={};function d(){}function u(){}function m(){}var y={};c(y,o,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(j([])));g&&g!==t&&n.call(g,o)&&(y=g);var v=m.prototype=d.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,s){var c=p(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return u.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:u,configurable:!0}),u.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Tt(){var e=Object(r.useContext)(l),t=Object(r.useCallback)((function(){return"chooseFileSystemEntries"in window||"showOpenFilePicker"in window}),[]),n=Object(r.useCallback)(Object(s.a)(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isModified){t.next=2;break}return t.abrupt("return",!0);case 2:return"Discard changes? All changes you made to your TD will be lost.",t.next=5,window.confirm("Discard changes? All changes you made to your TD will be lost.");case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),[e.isModified]),o=Object(r.useCallback)((function(e){return e.text?e.text():w(e)}),[]),a=Object(r.useCallback)(function(){var t=Object(s.a)(_t().mark((function t(n,r){var i,a,s;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o(n);case 3:i=t.sent,(a={})["./"+n.name]=void 0!==r?r:JSON.parse(i),I(i,console.log,{}).then((function(t){e.updateLinkedTd(void 0),e.addLinkedTd(a),e.setFileHandle(r||n.name),e.updateIsModified(!1),e.updateValidationMessage(t),e.updateOfflineTD(i)}),(function(e){console.log("Error"),console.log(e)})),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),s="An error occured reading ".concat(e.offlineTD),console.error(s,t.t0),alert(s);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),[e,o]),c=Object(r.useCallback)(function(){var e=Object(s.a)(_t().mark((function e(r){var i,o,s,c;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:if(t()){e.next=12;break}return e.next=7,x();case 7:if(!(i=e.sent)){e.next=11;break}return e.next=11,a(i);case 11:return e.abrupt("return");case 12:return e.prev=12,e.next=15,b();case 15:return o=e.sent,e.next=18,o.getFile();case 18:return s=e.sent,e.next=21,a(s,o);case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(12),c="We ran into an error trying to open your TD.",console.error(c,e.t0),alert(c);case 28:case"end":return e.stop()}}),e,null,[[12,23]])})));return function(t){return e.apply(this,arguments)}}(),[a,n,t]),p=Object(r.useCallback)(function(){var t=Object(s.a)(_t().mark((function t(n,r){var i,o;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.createWriter){t.next=9;break}return t.next=3,n.createWriter();case 3:return i=t.sent,t.next=6,i.write(0,r);case 6:return t.next=8,i.close();case 8:return t.abrupt("return");case 9:return t.next=11,n.createWritable();case 11:return o=t.sent,t.next=14,o.write(r);case 14:return t.next=16,o.close();case 16:setTimeout((function(){e.updateOfflineTD(r,"AppHEader"),e.updateIsModified(!1)}),500);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e]),f=Object(r.useCallback)((function(e,t){var n,r=document.getElementById("aDownload"),i={};try{n=(n=(i=JSON.parse(t)).id||i.title).replace(/\s/g,"")+".jsonld"}catch(a){console.error(a)}e=e||n;var o=new File([t],"",{type:"application/ld+json"});r.href=window.URL.createObjectURL(o),r.setAttribute("download",e),r.click()}),[]),d=Object(r.useCallback)(Object(s.a)(_t().mark((function n(){var r,i,o,a,s;return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t()){n.next=3;break}return f(e.name,e.offlineTD),n.abrupt("return");case 3:return n.prev=3,n.next=6,m();case 6:r=n.sent,n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(3),i="We ran into an error trying to save your TD.",console.error(i,n.t0),n.abrupt("return",alert(i));case 14:return n.prev=14,n.next=17,p(r,e.offlineTD);case 17:document.getElementById("linkedTd")&&(o=document.getElementById("linkedTd").value,"object"!==typeof e.fileHandle&&((a=e.linkedTd)[o]=r,e.updateLinkedTd(a))),e.setFileHandle(r),e.updateIsModified(!1),n.next=27;break;case 22:n.prev=22,n.t1=n.catch(14),s="Unfortunately we were unable to save your TD.",console.error(s,n.t1),alert(s);case 27:case"end":return n.stop()}}),n,null,[[3,9],[14,22]])}))),[f,t,e,p]),u=Object(r.useCallback)(Object(s.a)(_t().mark((function t(){var n;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.fileHandle){t.next=5;break}return t.next=4,d();case 4:return t.abrupt("return",t.sent);case 5:return t.next=7,p(e.fileHandle,e.offlineTD);case 7:alert("File saved"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),n="Unfortunately we were unable to save your TD.",console.error(n,t.t0),alert(n);case 15:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e,d,p]),m=function(){var e=Object(s.a)(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("showSaveFilePicker"in window)){e.next=5;break}return t={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]},e.next=4,window.showSaveFilePicker(t);case 4:case 8:return e.abrupt("return",e.sent);case 5:return n={type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]},e.next=8,window.chooseFileSystemEntries(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(window.location.search.indexOf("td")>-1){var t=new URL(window.location.href).searchParams.get("td");try{var n=JSON.parse(t);"tm:ThingModel"===n["@type"]&&e.updateIsThingModel(!0),e.updateOfflineTD(JSON.stringify(n,null,2))}catch(r){alert("Sorry, we were unable to parse the TD given in the URL")}}}),[]),Object(r.useEffect)((function(){var e=function(e){(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"s"===e.key&&(e.preventDefault(),e.stopPropagation(),u()),(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"o"===e.key&&(e.preventDefault(),e.stopPropagation(),c()),(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"n"===e.key&&(e.preventDefault(),e.stopPropagation(),v())};return document.addEventListener("keydown",e,!1),window.onbeforeunload=function(e){var t="Important: Please click on 'Save' button to leave this page.";return"undefined"==typeof e&&(e=window.event),e&&(e.returnValue=t),t},function(){document.removeEventListener("keydown",e,!1)}}),[c,u,e]);var y=i.a.useRef(),h=i.a.useRef(),g=i.a.useRef(),v=function(){g.current.openModal()};return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"flex justify-between items-center h-16 bg-blue-500"},i.a.createElement("div",{className:"flex items-center"},i.a.createElement("img",{className:"pl-2 h-12",src:yt.a,alt:"WOT"}),i.a.createElement("div",{className:"w-2"}),i.a.createElement("button",null,i.a.createElement("img",{className:"pl-2 h-8",src:ut.a,alt:"LOGO",onClick:function(){return window.open("https://eclipse.github.io/editdor/","_blank")}}))),i.a.createElement("div",{className:"flex space-x-2 pr-2"},i.a.createElement(ht,{onClick:function(){h.current.openModal()}},"Share"),i.a.createElement(ht,{onClick:v},"New"),i.a.createElement(ht,{onClick:c},"Open"),t()&&i.a.createElement(ht,{onClick:u},"Save"),i.a.createElement(ht,{onClick:d},"Save As"),(e.showConvertBtn||e.isThingModel)&&i.a.createElement(ht,{onClick:function(){y.current.openModal()}},"Convert To TD"))),i.a.createElement(Ot,{ref:y}),i.a.createElement(gt,{ref:h}),i.a.createElement($t,{ref:g}),i.a.createElement("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),i.a.createElement("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"}},"download"))}var It=function(e){var t,n=Object(r.useContext)(l),o=0,a=0,s=0,c=0;try{var p=JSON.parse(n.offlineTD),f=(new TextEncoder).encode(JSON.stringify(p)).length;o=(t=f)<1024?t+" bytes":t<1048576?(t/1024).toFixed(3)+" KiB":t<1073741824?(t/1048576).toFixed(3)+" MiB":(t/1073741824).toFixed(3)+" GiB",a=p.properties?Object.keys(p.properties).length:0,s=p.properties?Object.keys(p.actions).length:0,c=p.properties?Object.keys(p.events).length:0}catch(d){}return i.a.createElement(i.a.Fragment,null,i.a.createElement("footer",{className:"bg-blue-500 h-8 flex flex-col items-center justify-center text-white"},i.a.createElement("div",{className:"flex flex-row items-center justify-start w-full"},i.a.createElement("div",{className:"mx-2"},"Properties: ",a),i.a.createElement("div",{className:"mx-2"},"Actions: ",s),i.a.createElement("div",{className:"mx-2"},"Events: ",c),i.a.createElement("div",{className:"mx-2 flex-grow"},"Size: ",o),i.a.createElement("div",{className:"mx-2 justify-self-end"},"Version: ","0.5.0"," | ",i.a.createElement("u",null,i.a.createElement("a",{href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer"},"We are on GitHub"))))))},Pt="UPDATE_OFFLINE_TD",Lt="UPDATE_IS_MODFIED",Dt="UPDATE_IS_THINGMODEL",Ct="SET_FILE_HANDLE",At="REMOVE_FORM_FROM_TD",Ft="REMOVE_LINK_FROM_TD",Mt="ADD_PROPERTYFORM_TO_TD",qt="ADD_ACTIONFORM_TO_TD",Ut="ADD_EVENTFORM_TO_TD",Bt="REMOVE_ONE_OF_A_KIND_FROM_TD",Rt="UPDATE_SHOW_CONVERT_BTN",zt="ADD_LINKED_TD",Jt="UPDATE_LINKED_TD",Wt="UPDATE_VALIDATION_MESSAGE",Gt=function(e,t){switch(t.type){case Pt:return function(e,t){var n=t.linkedTd;try{if(n){if(n&&"object"!==typeof t.fileHandle){var r=JSON.parse(e);if(document.getElementById("linkedTd")){var i=document.getElementById("linkedTd").value;""===i?n[r.title||"ediTDor Thing"]=r:n[i]=r}}}else{var o=JSON.parse(e);(n={})[o.title||"ediTDor Thing"]=o}}catch(s){var a=s.message;console.log(a)}return Object(f.a)(Object(f.a)({},t),{},{offlineTD:e,isModified:!0,linkedTd:n})}(t.offlineTD,e);case Lt:return function(e,t){return Object(f.a)(Object(f.a)({},t),{},{isModified:e})}(t.isModified,e);case Dt:return function(e,t){return Object(f.a)(Object(f.a)({},t),{},{isThingModel:e})}(t.isThingModel,e);case Ct:var n=function(e,t){return Object(f.a)(Object(f.a)({},t),{},{fileHandle:e})}(t.fileHandle,e);return n;case At:return function(e,t){var n=JSON.parse(t.offlineTD);if(console.log(e),"forms"===e.type)n.forms.forEach((function(t,r){"string"===typeof t.op?n.forms.splice(r,1):(t.href===e.form.href&&-1!==t.op.indexOf(e.form.op)&&t.op.splice(t.op.indexOf(e.form.op),1),0===t.op.length&&n.forms.splice(r,1))}));else try{n[e.type][e.propName].forms.forEach((function(t,r){"string"===typeof t.op?t.href===e.form.href&&n[e.type][e.propName].forms.splice(r,1):(t.href===e.form.href&&-1!==t.op.indexOf(e.form.op)&&t.op.splice(t.op.indexOf(e.form.op),1),0===t.op.length&&n[e.type][e.propName].forms.splice(r,1))}))}catch(r){alert("Sorry we were unable to delete the Form.")}return Object(f.a)(Object(f.a)({},t),{},{offlineTD:JSON.stringify(n,null,2)})}(t.form,e);case Ft:return function(e,t){var n=JSON.parse(t.offlineTD);try{n.links.splice(e,1)}catch(o){alert("Sorry we were unable to delete the Link.")}var r=t.linkedTd;if(r&&"object"!==typeof t.fileHandle&&document.getElementById("linkedTd")){var i=document.getElementById("linkedTd").value;""===i?r[n.title||"ediTDor Thing"]=n:r[i]=n}return Object(f.a)(Object(f.a)({},t),{},{offlineTD:JSON.stringify(n,null,2),linkedTd:r})}(t.link,e);case Bt:return function(e,t,n){var r=JSON.parse(n.offlineTD);try{delete r[e][t]}catch(i){alert("Sorry we were unable to delete the Form.")}return Object(f.a)(Object(f.a)({},n),{},{offlineTD:JSON.stringify(r,null,2)})}(t.kind,t.oneOfAKindName,e);case Mt:return function(e,t){var n=JSON.parse(t.offlineTD),r=n.properties[e.propName];return void 0===r.forms&&(r.forms=[]),r.forms.push(e.form),Object(f.a)(Object(f.a)({},t),{},{offlineTD:JSON.stringify(n,null,2)})}(t.form,e);case qt:return function(e,t){var n=JSON.parse(t.offlineTD),r=n.actions[e.actionName];return console.log("ActionForms",r.forms),void 0===r.forms&&(r.forms=[]),r.forms.push(e.form),Object(f.a)(Object(f.a)({},t),{},{offlineTD:JSON.stringify(n,null,2)})}(t.params,e);case Ut:return function(e,t){var n=JSON.parse(t.offlineTD),r=n.events[e.eventName];return void 0===r.forms&&(r.forms=[]),r.forms.push(e.form),Object(f.a)(Object(f.a)({},t),{},{offlineTD:JSON.stringify(n,null,2)})}(t.params,e);case Rt:return function(e,t){return Object(f.a)(Object(f.a)({},t),{},{showConvertBtn:e})}(t.showConvertBtn,e);case zt:return function(e,t){var n={},r=t.linkedTd;return n=void 0===r?e:Object.assign(r,e),Object(f.a)(Object(f.a)({},t),{},{linkedTd:n})}(t.linkedTd,e);case Jt:return function(e,t){return Object(f.a)(Object(f.a)({},t),{},{linkedTd:e})}(t.linkedTd,e);case Wt:return function(e,t){return Object(f.a)(Object(f.a)({},t),{},{validationMessage:e})}(t.validationMessage,e);default:return e}},Vt=function(e){var t=Object(r.useReducer)(Gt,{offlineTD:"",theme:"dark",validationMessage:""}),n=Object(c.a)(t,2),o=n[0],a=n[1];return i.a.createElement(l.Provider,{value:{offlineTD:o.offlineTD,theme:o.theme,isModified:o.isModified,isThingModel:o.isThingModel,name:o.name,fileHandle:o.fileHandle,showConvertBtn:o.showConvertBtn,linkedTd:o.linkedTd,validationMessage:o.validationMessage,updateOfflineTD:function(e,t){a({type:Pt,offlineTD:e})},updateIsModified:function(e){a({type:Lt,isModified:e})},updateIsThingModel:function(e){a({type:Dt,isThingModel:e})},setFileHandle:function(e){a({type:Ct,fileHandle:e})},removeForm:function(e){a({type:At,form:e})},removeLink:function(e){a({type:Ft,link:e})},addForm:function(e){a({type:Mt,form:e})},addActionForm:function(e){a({type:qt,params:e})},addEventForm:function(e){a({type:Ut,params:e})},removeOneOfAKindReducer:function(e,t){a({type:Bt,kind:e,oneOfAKindName:t})},updateShowConvertBtn:function(e){a({type:Rt,showConvertBtn:e})},addLinkedTd:function(e){a({type:zt,linkedTd:e})},updateLinkedTd:function(e){a({type:Jt,linkedTd:e})},updateValidationMessage:function(e){a({type:Wt,validationMessage:e})}}},e.children)},Ht=function(e,t){var n,r=document.getElementById("first"),i=document.getElementById("second"),o=function(o){var a={x:o.clientX-n.e.clientX,y:o.clientY-n.e.clientY};"H"===t&&(a.x=Math.min(Math.max(a.x,-n.firstWidth),n.secondWidth),e.style.left=n.offsetLeft+a.x+"px",r.style.width=n.firstWidth+a.x+"px",i.style.width=n.secondWidth-a.x+"px")};e.onmousedown=function(t){n={e:t,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,firstWidth:r.offsetWidth,secondWidth:i.offsetWidth},document.onmousemove=o,document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}},Kt=function(e){return Object(r.useEffect)((function(){Ht(document.getElementById("separator"),"H")}),[e]),i.a.createElement(Vt,null,i.a.createElement("main",{className:"h-full w-screen flex flex-col"},i.a.createElement(Tt,null),i.a.createElement("div",{className:"flex-grow splitter flex flex-row w-full height-adjust"},i.a.createElement("div",{className:"w-5/12",id:"first"},i.a.createElement(ft,null)),i.a.createElement("div",{id:"separator"}),i.a.createElement("div",{className:"w-7/12",id:"second"},i.a.createElement(it,null))),i.a.createElement(It,null),i.a.createElement("div",{id:"modal-root"})))},Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Yt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(606).patch(),a.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Kt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Zt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Yt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Yt(t,e)}))}}()}},[[371,1,2]]]);
//# sourceMappingURL=main.c71b60b5.chunk.js.map